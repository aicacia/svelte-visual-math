import{s as t,g as e,l as n,S as i,i as s,a as r,b as o,t as a,c as l,d as c,e as $,f as d,h as u,n as y,j as p,k as f,m as g,o as h,p as m,q as x,r as v,u as w,v as b,w as k,x as M,y as O,z as S,A,B as P,C as L,D as E,E as R,F as z,G as Y,H as j,I as N,J as X,K as q,L as H,M as I,N as B,O as D,P as U,Q as K,R as W,T as C,U as F,V as G,W as J,X as Q,Y as T,Z as V,_ as Z,$ as _,a0 as tt,a1 as et,a2 as nt,a3 as it,a4 as st,a5 as rt,a6 as ot}from"./vendor.d75415dd.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),"use-credentials"===t.crossorigin?e.credentials="include":"anonymous"===t.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const at={};function lt(){return e(at)}const ct={};const $t={};const dt={};function ut(){return e(dt)}function yt(t,e,i){return n.range(Math.floor(t/i)*i,Math.ceil(e/i)*i,i).iter().toArray()}function pt(t,e,n){const i=t.slice();return i[9]=e[n],i}function ft(t){let e,n,i,s,r=(t[0]?t[0](t[9]):t[9])+"";return{c(){e=o("text"),n=a(r),l(e,"x",i=t[1](t[9])),l(e,"y",s=5),l(e,"alignment-baseline","hanging"),l(e,"text-anchor","middle")},m(t,i){c(t,e,i),$(e,n)},p(t,s){5&s&&r!==(r=(t[0]?t[0](t[9]):t[9])+"")&&d(n,r),6&s&&i!==(i=t[1](t[9]))&&l(e,"x",i)},d(t){t&&u(e)}}}function gt(t){let e,n=t[2],i=[];for(let s=0;s<n.length;s+=1)i[s]=ft(pt(t,n,s));return{c(){e=o("g");for(let t=0;t<i.length;t+=1)i[t].c();l(e,"class","svelte-133qdtd")},m(t,n){c(t,e,n);for(let s=0;s<i.length;s+=1)i[s].m(e,null)},p(t,[s]){if(7&s){let r;for(n=t[2],r=0;r<n.length;r+=1){const o=pt(t,n,r);i[r]?i[r].p(o,s):(i[r]=ft(o),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},i:y,o:y,d(t){t&&u(e),p(i,t)}}}function ht(t,e,n){let i,s,r,o,a,{separation:l}=e,{labelMaker:c}=e,$=lt();f(t,$,(t=>n(8,a=t)));let d=ut();return f(t,d,(t=>n(7,o=t))),t.$$set=t=>{"separation"in t&&n(5,l=t.separation),"labelMaker"in t&&n(0,c=t.labelMaker)},t.$$.update=()=>{256&t.$$.dirty&&n(1,i=a.scaleX),128&t.$$.dirty&&n(6,s=o.xPanes),98&t.$$.dirty&&n(2,r=yt(s[0][0]-l,s[s.length-1][1]+l,l).filter((t=>Math.abs(i(t)-i(0))>1)))},[c,i,r,$,d,l,s,o,a]}class mt extends i{constructor(t){super(),s(this,t,ht,gt,r,{separation:5,labelMaker:0})}}function xt(t,e,n){const i=t.slice();return i[9]=e[n],i}function vt(t){let e,n,i,s,r=(t[0]?t[0](t[9]):t[9])+"";return{c(){e=o("text"),n=a(r),l(e,"x",i=5),l(e,"y",s=t[1](t[9])),l(e,"alignment-baseline","central")},m(t,i){c(t,e,i),$(e,n)},p(t,i){5&i&&r!==(r=(t[0]?t[0](t[9]):t[9])+"")&&d(n,r),6&i&&s!==(s=t[1](t[9]))&&l(e,"y",s)},d(t){t&&u(e)}}}function wt(t){let e,n=t[2],i=[];for(let s=0;s<n.length;s+=1)i[s]=vt(xt(t,n,s));return{c(){e=o("g");for(let t=0;t<i.length;t+=1)i[t].c();l(e,"class","svelte-133qdtd")},m(t,n){c(t,e,n);for(let s=0;s<i.length;s+=1)i[s].m(e,null)},p(t,[s]){if(7&s){let r;for(n=t[2],r=0;r<n.length;r+=1){const o=xt(t,n,r);i[r]?i[r].p(o,s):(i[r]=vt(o),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},i:y,o:y,d(t){t&&u(e),p(i,t)}}}function bt(t,e,n){let i,s,r,o,a,{separation:l}=e,{labelMaker:c}=e,$=lt();f(t,$,(t=>n(8,a=t)));let d=ut();return f(t,d,(t=>n(7,o=t))),t.$$set=t=>{"separation"in t&&n(5,l=t.separation),"labelMaker"in t&&n(0,c=t.labelMaker)},t.$$.update=()=>{256&t.$$.dirty&&n(1,i=a.scaleY),128&t.$$.dirty&&n(6,s=o.yPanes),98&t.$$.dirty&&n(2,r=yt(s[0][0]-l,s[s.length-1][1]+l,l).filter((t=>Math.abs(i(t)-i(0))>1)))},[c,i,r,$,d,l,s,o,a]}class kt extends i{constructor(t){super(),s(this,t,bt,wt,r,{separation:5,labelMaker:0})}}function Mt(t,e,n){const i=t.slice();return i[13]=e[n],i}function Ot(t,e,n){const i=t.slice();return i[16]=e[n],i}function St(t){let e,n,i,s,r;return{c(){e=o("line"),l(e,"x1",n=t[16]),l(e,"y1",i=0),l(e,"x2",s=t[16]),l(e,"y2",t[3]),l(e,"style",r="stroke: var(--grid-line-subdivision-color)")},m(t,n){c(t,e,n)},p(t,i){32&i&&n!==(n=t[16])&&l(e,"x1",n),32&i&&s!==(s=t[16])&&l(e,"x2",s),8&i&&l(e,"y2",t[3])},d(t){t&&u(e)}}}function At(t){let e,n,i,s,r;return{c(){e=o("line"),l(e,"y1",n=t[13]),l(e,"x1",i=0),l(e,"y2",s=t[13]),l(e,"x2",t[4]),l(e,"style",r="stroke: var(--grid-line-subdivision-color)")},m(t,n){c(t,e,n)},p(t,i){64&i&&n!==(n=t[13])&&l(e,"y1",n),64&i&&s!==(s=t[13])&&l(e,"y2",s),16&i&&l(e,"x2",t[4])},d(t){t&&u(e)}}}function Pt(t){let e,n,i,s,r,a,$,d;return{c(){e=o("line"),a=o("line"),l(e,"x1",n=0),l(e,"y1",i=0),l(e,"x2",s=0),l(e,"y2",t[3]),l(e,"style",r="stroke: var(--visual-math-line-color)"),l(a,"x1",t[4]),l(a,"y1",$=0),l(a,"x2",t[4]),l(a,"y2",t[3]),l(a,"style",d="stroke: var(--visual-math-line-color)")},m(t,n){c(t,e,n),c(t,a,n)},p(t,n){8&n&&l(e,"y2",t[3]),16&n&&l(a,"x1",t[4]),16&n&&l(a,"x2",t[4]),8&n&&l(a,"y2",t[3])},d(t){t&&u(e),t&&u(a)}}}function Lt(t){let e,n,i,s,r,a,$,d;return{c(){e=o("line"),a=o("line"),l(e,"x1",n=0),l(e,"y1",i=0),l(e,"x2",t[4]),l(e,"y2",s=0),l(e,"style",r="stroke: var(--visual-math-line-color)"),l(a,"x1",$=0),l(a,"y1",t[3]),l(a,"x2",t[4]),l(a,"y2",t[3]),l(a,"style",d="stroke: var(--visual-math-line-color)")},m(t,n){c(t,e,n),c(t,a,n)},p(t,n){16&n&&l(e,"x2",t[4]),8&n&&l(a,"y1",t[3]),16&n&&l(a,"x2",t[4]),8&n&&l(a,"y2",t[3])},d(t){t&&u(e),t&&u(a)}}}function Et(t){let e,n,i,s,r=t[5],a=[];for(let o=0;o<r.length;o+=1)a[o]=St(Ot(t,r,o));let d=t[6],f=[];for(let o=0;o<d.length;o+=1)f[o]=At(Mt(t,d,o));let h=t[1]&&Pt(t),m=t[2]&&Lt(t);return{c(){e=o("pattern");for(let t=0;t<a.length;t+=1)a[t].c();n=g();for(let t=0;t<f.length;t+=1)f[t].c();i=g(),h&&h.c(),s=g(),m&&m.c(),l(e,"id",t[0]),l(e,"x","0"),l(e,"y","0"),l(e,"width",t[4]),l(e,"height",t[3]),l(e,"patternUnits","userSpaceOnUse")},m(t,r){c(t,e,r);for(let n=0;n<a.length;n+=1)a[n].m(e,null);$(e,n);for(let n=0;n<f.length;n+=1)f[n].m(e,null);$(e,i),h&&h.m(e,null),$(e,s),m&&m.m(e,null)},p(t,[o]){if(40&o){let i;for(r=t[5],i=0;i<r.length;i+=1){const s=Ot(t,r,i);a[i]?a[i].p(s,o):(a[i]=St(s),a[i].c(),a[i].m(e,n))}for(;i<a.length;i+=1)a[i].d(1);a.length=r.length}if(80&o){let n;for(d=t[6],n=0;n<d.length;n+=1){const s=Mt(t,d,n);f[n]?f[n].p(s,o):(f[n]=At(s),f[n].c(),f[n].m(e,i))}for(;n<f.length;n+=1)f[n].d(1);f.length=d.length}t[1]?h?h.p(t,o):(h=Pt(t),h.c(),h.m(e,s)):h&&(h.d(1),h=null),t[2]?m?m.p(t,o):(m=Lt(t),m.c(),m.m(e,null)):m&&(m.d(1),m=null),1&o&&l(e,"id",t[0]),16&o&&l(e,"width",t[4]),8&o&&l(e,"height",t[3])},i:y,o:y,d(t){t&&u(e),p(a,t),p(f,t),h&&h.d(),m&&m.d()}}}function Rt(t,e,i){let s,r,o,a,l,{id:c}=e,{xLines:$=1}=e,{yLines:d=1}=e,{xSubdivisions:u=1}=e,{ySubdivisions:y=1}=e,p=lt();f(t,p,(t=>i(12,l=t)));let g=[],h=[];return t.$$set=t=>{"id"in t&&i(0,c=t.id),"xLines"in t&&i(1,$=t.xLines),"yLines"in t&&i(2,d=t.yLines),"xSubdivisions"in t&&i(8,u=t.xSubdivisions),"ySubdivisions"in t&&i(9,y=t.ySubdivisions)},t.$$.update=()=>{if(4096&t.$$.dirty&&i(11,s=l.scaleX),4096&t.$$.dirty&&i(10,r=l.scaleY),2050&t.$$.dirty&&i(4,o=s($||1)),1028&t.$$.dirty&&i(3,a=-r(d||1)),272&t.$$.dirty&&u&&u>1){const t=o/u;i(5,g=n.range(0,o+1.1*t,t).iter().toArray())}if(520&t.$$.dirty&&y&&y>1){const t=a/y;i(6,h=n.range(0,a+1.1*t,t).iter().toArray())}},[c,$,d,a,o,g,h,p,u,y,r,s,l]}class zt extends i{constructor(t){super(),s(this,t,Rt,Et,r,{id:0,xLines:1,yLines:2,xSubdivisions:8,ySubdivisions:9})}}function Yt(t){let e,n;return e=new mt({props:{labelMaker:t[3].labels,separation:t[3].lines||1}}),{c(){h(e.$$.fragment)},m(t,i){m(e,t,i),n=!0},p(t,n){const i={};8&n&&(i.labelMaker=t[3].labels),8&n&&(i.separation=t[3].lines||1),e.$set(i)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function jt(t){let e,n;return e=new kt({props:{labelMaker:t[2].labels,separation:t[2].lines||1}}),{c(){h(e.$$.fragment)},m(t,i){m(e,t,i),n=!0},p(t,n){const i={};4&n&&(i.labelMaker=t[2].labels),4&n&&(i.separation=t[2].lines||1),e.$set(i)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Nt(t){let e,n,i,s,r;return{c(){e=o("line"),l(e,"x1",n=-1e7),l(e,"x2",i=1e7),l(e,"y1",s=0),l(e,"y2",r=0),l(e,"class","transform-y-to-center svelte-xqsvde")},m(t,n){c(t,e,n)},d(t){t&&u(e)}}}function Xt(t){let e,n,i,s,r;return{c(){e=o("line"),l(e,"x1",n=0),l(e,"x2",i=0),l(e,"y1",s=-1e7),l(e,"y2",r=1e7),l(e,"class","transform-x-to-center svelte-xqsvde")},m(t,n){c(t,e,n)},d(t){t&&u(e)}}}function qt(t){let e,n,i,s,r,a,$,d,y,p;n=new zt({props:{id:t[4],xLines:t[3].lines,yLines:t[2].lines,xSubdivisions:t[3].subdivisions,ySubdivisions:t[2].subdivisions}});let f=t[0].labels&&Yt(t),O=t[1].labels&&jt(t),S=t[3].axis&&Nt(),A=t[2].axis&&Xt();return{c(){e=o("defs"),h(n.$$.fragment),i=b(),s=o("rect"),r=b(),f&&f.c(),a=b(),O&&O.c(),$=b(),S&&S.c(),d=b(),A&&A.c(),y=g(),l(s,"fill",`url(#${t[4]})`),l(s,"x",-1e7),l(s,"y",-1e7),l(s,"width",2e7),l(s,"height",2e7)},m(t,o){c(t,e,o),m(n,e,null),c(t,i,o),c(t,s,o),c(t,r,o),f&&f.m(t,o),c(t,a,o),O&&O.m(t,o),c(t,$,o),S&&S.m(t,o),c(t,d,o),A&&A.m(t,o),c(t,y,o),p=!0},p(t,[e]){const i={};8&e&&(i.xLines=t[3].lines),4&e&&(i.yLines=t[2].lines),8&e&&(i.xSubdivisions=t[3].subdivisions),4&e&&(i.ySubdivisions=t[2].subdivisions),n.$set(i),t[0].labels?f?(f.p(t,e),1&e&&x(f,1)):(f=Yt(t),f.c(),x(f,1),f.m(a.parentNode,a)):f&&(k(),v(f,1,1,(()=>{f=null})),M()),t[1].labels?O?(O.p(t,e),2&e&&x(O,1)):(O=jt(t),O.c(),x(O,1),O.m($.parentNode,$)):O&&(k(),v(O,1,1,(()=>{O=null})),M()),t[3].axis?S||(S=Nt(),S.c(),S.m(d.parentNode,d)):S&&(S.d(1),S=null),t[2].axis?A||(A=Xt(),A.c(),A.m(y.parentNode,y)):A&&(A.d(1),A=null)},i(t){p||(x(n.$$.fragment,t),x(f),x(O),p=!0)},o(t){v(n.$$.fragment,t),v(f),v(O),p=!1},d(t){t&&u(e),w(n),t&&u(i),t&&u(s),t&&u(r),f&&f.d(t),t&&u(a),O&&O.d(t),t&&u($),S&&S.d(t),t&&u(d),A&&A.d(t),t&&u(y)}}}let Ht=0;const It={axis:!0,lines:1,labels:t=>t};function Bt(t,e,n){let i,s,{subdivisions:r=!1}=e,{xAxis:o=Object.assign({subdivisions:r},It)}=e,{yAxis:a=Object.assign({subdivisions:r},It)}=e;const l="visual-math-grid-"+Ht++;return t.$$set=t=>{"subdivisions"in t&&n(5,r=t.subdivisions),"xAxis"in t&&n(0,o=t.xAxis),"yAxis"in t&&n(1,a=t.yAxis)},t.$$.update=()=>{33&t.$$.dirty&&n(3,i=Object.assign(Object.assign({subdivisions:r},It),o)),34&t.$$.dirty&&n(2,s=Object.assign(Object.assign({subdivisions:r},It),a))},[o,a,s,i,l,r]}class Dt extends i{constructor(t){super(),s(this,t,Bt,qt,r,{subdivisions:5,xAxis:0,yAxis:1})}}function Ut(t){let e,n,i,s,r,a,l,$,d=[{cx:n=t[0][0]},{cy:i=t[0][1]},{rx:s=Math.abs(t[1][0])},{ry:r=Math.abs(t[1][1])},{"stroke-width":t[4]},{"stroke-dasharray":a="dashed"===t[2]?"4,3":void 0},{transform:l=`${t[8]} ${t[7]}`},t[10],{style:$=`\n    stroke: ${t[5]};\n    fill: ${t[5]};\n    fill-opacity: ${t[6]};\n    stroke-opacity: ${t[3]};\n    ${t[10].style||""}\n  `}],p={};for(let o=0;o<d.length;o+=1)p=O(p,d[o]);return{c(){e=o("ellipse"),S(e,p),A(e,"svelte-cc8k9r",!0)},m(t,n){c(t,e,n)},p(t,[o]){S(e,p=P(d,[1&o&&n!==(n=t[0][0])&&{cx:n},1&o&&i!==(i=t[0][1])&&{cy:i},2&o&&s!==(s=Math.abs(t[1][0]))&&{rx:s},2&o&&r!==(r=Math.abs(t[1][1]))&&{ry:r},16&o&&{"stroke-width":t[4]},4&o&&a!==(a="dashed"===t[2]?"4,3":void 0)&&{"stroke-dasharray":a},384&o&&l!==(l=`${t[8]} ${t[7]}`)&&{transform:l},1024&o&&t[10],1128&o&&$!==($=`\n    stroke: ${t[5]};\n    fill: ${t[5]};\n    fill-opacity: ${t[6]};\n    stroke-opacity: ${t[3]};\n    ${t[10].style||""}\n  `)&&{style:$}])),A(e,"svelte-cc8k9r",!0)},i:y,o:y,d(t){t&&u(e)}}}function Kt(t,e,n){let i,s;const r=["center","radius","angle","strokeStyle","strokeOpacity","weight","color","fillOpacity"];let o,a=L(e,r),{center:l=E(0,0)}=e,{radius:c=E(1,1)}=e,{angle:$=0}=e,{strokeStyle:d="solid"}=e,{strokeOpacity:u=1}=e,{weight:y=2}=e,{color:p="var(--visual-math-fg)"}=e,{fillOpacity:g=.15}=e,h=lt();return f(t,h,(t=>n(12,o=t))),t.$$set=t=>{e=O(O({},e),R(t)),n(10,a=L(e,r)),"center"in t&&n(0,l=t.center),"radius"in t&&n(1,c=t.radius),"angle"in t&&n(11,$=t.angle),"strokeStyle"in t&&n(2,d=t.strokeStyle),"strokeOpacity"in t&&n(3,u=t.strokeOpacity),"weight"in t&&n(4,y=t.weight),"color"in t&&n(5,p=t.color),"fillOpacity"in t&&n(6,g=t.fillOpacity)},t.$$.update=()=>{4096&t.$$.dirty&&n(8,i=o.cssScale),2049&t.$$.dirty&&n(7,s=`rotate(${180*$/Math.PI} ${l[0]} ${l[1]})`)},[l,c,d,u,y,p,g,s,i,h,a,$,o]}class Wt extends i{constructor(t){super(),s(this,t,Kt,Ut,r,{center:0,radius:1,angle:11,strokeStyle:2,strokeOpacity:3,weight:4,color:5,fillOpacity:6})}}function Ct(t){let e,n;const i=[{center:t[0]},{radius:t[7]},{angle:t[1]},{strokeStyle:t[2]},{strokeOpacity:t[3]},{weight:t[4]},{color:t[5]},{fillOpacity:t[6]},t[8]];let s={};for(let r=0;r<i.length;r+=1)s=O(s,i[r]);return e=new Wt({props:s}),{c(){h(e.$$.fragment)},m(t,i){m(e,t,i),n=!0},p(t,[n]){const s=511&n?P(i,[1&n&&{center:t[0]},128&n&&{radius:t[7]},2&n&&{angle:t[1]},4&n&&{strokeStyle:t[2]},8&n&&{strokeOpacity:t[3]},16&n&&{weight:t[4]},32&n&&{color:t[5]},64&n&&{fillOpacity:t[6]},256&n&&z(t[8])]):{};e.$set(s)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Ft(t,e,n){const i=["center","radius","angle","strokeStyle","strokeOpacity","weight","color","fillOpacity"];let s=L(e,i),{center:r=E(0,0)}=e,{radius:o=1}=e,{angle:a=0}=e,{strokeStyle:l="solid"}=e,{strokeOpacity:c=1}=e,{weight:$=2}=e,{color:d="var(--visual-math-fg)"}=e,{fillOpacity:u=.15}=e,y=E(o,o);return t.$$set=t=>{e=O(O({},e),R(t)),n(8,s=L(e,i)),"center"in t&&n(0,r=t.center),"radius"in t&&n(9,o=t.radius),"angle"in t&&n(1,a=t.angle),"strokeStyle"in t&&n(2,l=t.strokeStyle),"strokeOpacity"in t&&n(3,c=t.strokeOpacity),"weight"in t&&n(4,$=t.weight),"color"in t&&n(5,d=t.color),"fillOpacity"in t&&n(6,u=t.fillOpacity)},t.$$.update=()=>{640&t.$$.dirty&&n(7,y=Y(y,o,o))},[r,a,l,c,$,d,u,y,s,o]}class Gt extends i{constructor(t){super(),s(this,t,Ft,Ct,r,{center:0,radius:9,angle:1,strokeStyle:2,strokeOpacity:3,weight:4,color:5,fillOpacity:6})}}function Jt(t){let e,n,i,s,r,a,d;return{c(){e=o("g"),n=o("circle"),r=o("circle"),l(n,"cx",i=t[5](t[1][0])),l(n,"cy",s=t[4](t[1][1])),l(n,"r",30),l(n,"fill","transparent"),l(r,"cx",a=t[5](t[1][0])),l(r,"cy",d=t[4](t[1][1])),l(r,"r",6),l(r,"fill",t[0]),l(r,"stroke",t[0]),l(r,"stroke-opacity",.25),l(r,"tabindex",0),A(r,"draggable",t[3])},m(i,s){c(i,e,s),$(e,n),$(e,r),t[15](e)},p(t,[e]){34&e&&i!==(i=t[5](t[1][0]))&&l(n,"cx",i),18&e&&s!==(s=t[4](t[1][1]))&&l(n,"cy",s),34&e&&a!==(a=t[5](t[1][0]))&&l(r,"cx",a),18&e&&d!==(d=t[4](t[1][1]))&&l(r,"cy",d),1&e&&l(r,"fill",t[0]),1&e&&l(r,"stroke",t[0]),8&e&&A(r,"draggable",t[3])},i:y,o:y,d(n){n&&u(e),t[15](null)}}}const Qt=j();function Tt(t,e,n){let i,s,r,o,a,{point:l=j()}=e,{color:c="var(--visual-math-blue)"}=e,{transform:$=N()}=e,{constrain:d}=e,u=E(l[0],l[1]),y=t=>t;l=y(l);let p=lt();f(t,p,(t=>n(14,a=t)));let g,h=j(),m=N(),x=j(),v=!1;return X((()=>{const t=new q(g,o);return()=>{t.destroy()}})),t.$$set=t=>{"point"in t&&n(7,l=t.point),"color"in t&&n(0,c=t.color),"transform"in t&&n(8,$=t.transform),"constrain"in t&&n(9,d=t.constrain)},t.$$.update=()=>{512&t.$$.dirty&&("horizontal"===d?n(10,y=([t,e])=>[t,u[1]]):"vertical"===d?n(10,y=([t,e])=>[u[0],e]):"function"==typeof d&&n(10,y=d)),16384&t.$$.dirty&&n(5,i=a.scaleX),16384&t.$$.dirty&&n(4,s=a.scaleY),16384&t.$$.dirty&&n(13,r=a.inversePixelMatrix),2304&t.$$.dirty&&n(11,m=H(m,$)),15744&t.$$.dirty&&(o=t=>{var e;null===(e=t.event)||void 0===e||e.stopPropagation(),n(3,v=t.down);const i=I(Qt,t.movement,r);t.first&&n(12,x=I(x,l,$)),B(l,x,i),I(l,l,m),n(7,l=y(l))}),386&t.$$.dirty&&n(1,h=I(h,l,$))},[c,h,g,v,s,i,p,l,$,d,y,m,x,r,a,function(t){D[t?"unshift":"push"]((()=>{g=t,n(2,g)}))}]}class Vt extends i{constructor(t){super(),s(this,t,Tt,Jt,r,{point:7,color:0,transform:8,constrain:9})}}function Zt(t){let e,n,i,s,r,a,$;return{c(){e=o("line"),l(e,"x1",n=t[4][0]),l(e,"y1",i=t[4][1]),l(e,"x2",s=t[5][0]),l(e,"y2",r=t[5][1]),l(e,"style",a=`stroke: ${t[0]}`),l(e,"stroke-width",t[2]),l(e,"opacity",t[3]),l(e,"stroke-dasharray",$="dashed"===t[1]?"4,3":void 0)},m(t,n){c(t,e,n)},p(t,[o]){16&o&&n!==(n=t[4][0])&&l(e,"x1",n),16&o&&i!==(i=t[4][1])&&l(e,"y1",i),32&o&&s!==(s=t[5][0])&&l(e,"x2",s),32&o&&r!==(r=t[5][1])&&l(e,"y2",r),1&o&&a!==(a=`stroke: ${t[0]}`)&&l(e,"style",a),4&o&&l(e,"stroke-width",t[2]),8&o&&l(e,"opacity",t[3]),2&o&&$!==($="dashed"===t[1]?"4,3":void 0)&&l(e,"stroke-dasharray",$)},i:y,o:y,d(t){t&&u(e)}}}const _t=j();function te(t,e,n){let i,s,{point1:r=j()}=e,{point2:o=j()}=e,{color:a="var(--visual-math-fg)"}=e,{style:l="solid"}=e,{weight:c=2}=e,{opacity:$=1}=e;const d=lt();f(t,d,(t=>n(11,s=t)));let u=j(),y=j(),p=j();return t.$$set=t=>{"point1"in t&&n(7,r=t.point1),"point2"in t&&n(8,o=t.point2),"color"in t&&n(0,a=t.color),"style"in t&&n(1,l=t.style),"weight"in t&&n(2,c=t.weight),"opacity"in t&&n(3,$=t.opacity)},t.$$.update=()=>{2048&t.$$.dirty&&n(10,i=s.pixelMatrix),896&t.$$.dirty&&n(9,u=U(u,K(u,W(_t,o,r)),1e5)),1680&t.$$.dirty&&n(4,y=I(y,W(_t,r,u),i)),1824&t.$$.dirty&&n(5,p=I(p,B(_t,o,u),i))},[a,l,c,$,y,p,d,r,o,u,i,s]}class ee extends i{constructor(t){super(),s(this,t,te,Zt,r,{point1:7,point2:8,color:0,style:1,weight:2,opacity:3})}}function ne(t){let e,n;return e=new ee({props:{point1:t[0],point2:t[5],color:t[1],opacity:t[4],style:t[2],weight:t[3]}}),{c(){h(e.$$.fragment)},m(t,i){m(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.point1=t[0]),32&n&&(i.point2=t[5]),2&n&&(i.color=t[1]),16&n&&(i.opacity=t[4]),4&n&&(i.style=t[2]),8&n&&(i.weight=t[3]),e.$set(i)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}const ie=j(),se=j(),re=E(1,0);function oe(t,e,n){let{point:i=j()}=e,{angle:s=0}=e,{color:r="var(--visual-math-fg)"}=e,{style:o="solid"}=e,{weight:a=2}=e,{opacity:l=1}=e,c=j();return t.$$set=t=>{"point"in t&&n(0,i=t.point),"angle"in t&&n(6,s=t.angle),"color"in t&&n(1,r=t.color),"style"in t&&n(2,o=t.style),"weight"in t&&n(3,a=t.weight),"opacity"in t&&n(4,l=t.opacity)},t.$$.update=()=>{97&t.$$.dirty&&n(5,c=B(c,i,C(ie,re,se,s)))},[i,r,o,a,l,c,s]}class ae extends i{constructor(t){super(),s(this,t,oe,ne,r,{point:0,angle:6,color:1,style:2,weight:3,opacity:4})}}function le(t){let e,n;return e=new ae({props:{point:t[0],angle:t[5],color:t[1],opacity:t[4],style:t[2],weight:t[3]}}),{c(){h(e.$$.fragment)},m(t,i){m(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.point=t[0]),32&n&&(i.angle=t[5]),2&n&&(i.color=t[1]),16&n&&(i.opacity=t[4]),4&n&&(i.style=t[2]),8&n&&(i.weight=t[3]),e.$set(i)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function ce(t,e,n){let{point:i=j()}=e,{slope:s=0}=e,{color:r="var(--visual-math-fg)"}=e,{style:o="solid"}=e,{weight:a=2}=e,{opacity:l=1}=e,c=Math.atan(s);return t.$$set=t=>{"point"in t&&n(0,i=t.point),"slope"in t&&n(6,s=t.slope),"color"in t&&n(1,r=t.color),"style"in t&&n(2,o=t.style),"weight"in t&&n(3,a=t.weight),"opacity"in t&&n(4,l=t.opacity)},t.$$.update=()=>{64&t.$$.dirty&&n(5,c=Math.atan(s))},[i,r,o,a,l,c,s]}class $e extends i{constructor(t){super(),s(this,t,ce,le,r,{point:0,slope:6,color:1,style:2,weight:3,opacity:4})}}function de(t){let e,n,i,s,r,a,d;const y=t[38].default,p=F(y,t,t[37],null);return{c(){e=G("div"),n=o("svg"),p&&p.c(),l(n,"width",t[2]),l(n,"height",t[3]),l(n,"viewBox",i=`${-t[5](0)} ${-t[4](0)} ${t[2]} ${t[3]}`),l(n,"preserveAspectRatio","xMidYMin"),l(n,"style",s=`width: ${t[0]}; touch-action: ${t[1]?"none":"auto"};`),l(e,"class","visual-math"),l(e,"style",r=`width: ${t[8]}; height: ${t[7]}`),J((()=>t[40].call(e)))},m(i,s){c(i,e,s),$(e,n),p&&p.m(n,null),t[39](e),a=Q(e,t[40].bind(e)),d=!0},p(t,o){p&&p.p&&(!d||64&o[1])&&T(p,y,t,t[37],d?Z(y,t[37],o,null):V(t[37]),null),(!d||4&o[0])&&l(n,"width",t[2]),(!d||8&o[0])&&l(n,"height",t[3]),(!d||60&o[0]&&i!==(i=`${-t[5](0)} ${-t[4](0)} ${t[2]} ${t[3]}`))&&l(n,"viewBox",i),(!d||3&o[0]&&s!==(s=`width: ${t[0]}; touch-action: ${t[1]?"none":"auto"};`))&&l(n,"style",s),(!d||384&o[0]&&r!==(r=`width: ${t[8]}; height: ${t[7]}`))&&l(e,"style",r)},i(t){d||(x(p,t),d=!0)},o(t){v(p,t),d=!1},d(n){n&&u(e),p&&p.d(n),t[39](null),a()}}}const ue=j();function ye(e,i,s){let r,o,a,l,c,$,d,u,y,p,f,g,h,m,x,v,w,b,k,{$$slots:M={},$$scope:O}=i,{width:S=500}=i,{height:A=500}=i,{pan:P=!0}=i,{zoom:L=!0}=i,{xAxisExtent:R=E(-5.5,5.5)}=i,{yAxisExtent:z=E(-5.5,5.5)}=i,H="number"==typeof S?S:500,I="number"==typeof A?A:500,U=Math.min(R[1]-R[0],z[1]-z[0]),K=E(0,0),C=E(R[0],z[0]),F=E(R[1],z[1]),G=j(),J=N(),Q=N(),T=[],V=[],Z=j(),nt=j(),it=tt({xPanes:T,yPanes:V,xPaneRange:Z,yPaneRange:nt});t(dt,it);let st=tt({min:C,max:F,width:H,height:I});!function(e){t(ct,e)}(st);let rt=tt({zoomAmount:U,scaleX:c,scaleY:$,span:G,pixelMatrix:J,inversePixelMatrix:Q,cssScale:y});!function(e){t(at,e)}(rt);let ot,lt=tt({mapX:a,mapY:l});return function(e){t($t,e)}(lt),X((()=>{const t=new q(ot,b),e=new et(ot,k);return()=>{t.destroy(),e.destroy()}})),e.$$set=t=>{"width"in t&&s(0,S=t.width),"height"in t&&s(11,A=t.height),"pan"in t&&s(1,P=t.pan),"zoom"in t&&s(12,L=t.zoom),"xAxisExtent"in t&&s(9,R=t.xAxisExtent),"yAxisExtent"in t&&s(10,z=t.yAxisExtent),"$$scope"in t&&s(37,O=t.$$scope)},e.$$.update=()=>{if(1&e.$$.dirty[0]&&s(8,r="auto"===S?"100%":`${S}px`),2048&e.$$.dirty[0]&&s(7,o="auto"===A?"100%":`${A}px`),13824&e.$$.dirty[0]&&(k=t=>{if(!L||t.last)return;const e=function(t){if("number"==typeof t.detail&&0!==t.detail){if(t.detail>0)return-1;if(t.detail<0)return 1}else if("number"==typeof t.wheelDelta){if(t.wheelDelta<0)return-1;if(t.wheelDelta>0)return 1}}(t.event);e&&(U>3||e<0)&&(s(9,R=Y(R,R[0]+e,R[1]-e)),s(10,z=Y(z,z[0]+e,z[1]-e)),s(13,U=Math.min(R[1]-R[0],z[1]-z[0])))}),8204&e.$$.dirty[0]){const t=.5*U,e=.5*(U*(H/I));s(9,R[0]=-e,R),s(9,R[1]=e,R),s(10,z[0]=-t,z),s(10,z[1]=t,z)}1550&e.$$.dirty[0]&&(b=t=>{P&&(s(14,K[0]=-t.offset[0]/H*(R[1]-R[0]),K),s(14,K[1]=-t.offset[1]/I*(z[1]-z[0]),K))}),50688&e.$$.dirty[0]&&s(15,C=B(C,K,Y(ue,R[0],z[0]))),83456&e.$$.dirty[0]&&s(16,F=B(F,K,Y(ue,R[1],z[1]))),98308&e.$$.dirty[0]&&s(5,a=t=>(t-C[0])/(F[0]-C[0])*H),98312&e.$$.dirty[0]&&s(4,l=t=>(t-C[1])/(F[1]-C[1])*I),229376&e.$$.dirty[0]&&s(17,G=W(G,F,C)),131076&e.$$.dirty[0]&&s(26,c=t=>t/G[0]*H),131080&e.$$.dirty[0]&&s(25,$=t=>-t/G[1]*I),98304&e.$$.dirty[0]&&s(34,p=F[0]-C[0]),4&e.$$.dirty[0]|8&e.$$.dirty[1]&&s(36,d=t=>t/H*p),98304&e.$$.dirty[0]&&s(30,m=F[1]-C[1]),1073741832&e.$$.dirty[0]&&s(35,u=t=>-t/I*m),100925440&e.$$.dirty[0]&&s(18,J=_(J,Y(ue,c(1),$(1)))),524288&e.$$.dirty[0]|48&e.$$.dirty[1]&&s(19,Q=_(Q,Y(ue,d(1),u(1)))),100663296&e.$$.dirty[0]&&s(24,y=`scale(${c(1)} ${$(1)})`),8&e.$$.dirty[1]&&s(33,f=Math.pow(2,Math.round(Math.log10(p)/Math.log10(2)))),32768&e.$$.dirty[0]|4&e.$$.dirty[1]&&s(32,g=Math.floor(C[0]/f)*f),65536&e.$$.dirty[0]|4&e.$$.dirty[1]&&s(31,h=Math.ceil(F[0]/f)*f),7&e.$$.dirty[1]&&s(20,T=n.range(g,h,f).iter().map((t=>E(t,t+f))).toArray()),4194304&e.$$.dirty[0]|3&e.$$.dirty[1]&&s(22,Z=Y(Z,g,h)),1073741824&e.$$.dirty[0]&&s(29,x=Math.pow(2,Math.round(Math.log10(m)/Math.log10(2)))),536903680&e.$$.dirty[0]&&s(28,v=Math.floor(C[0]/x)*x),536936448&e.$$.dirty[0]&&s(27,w=Math.ceil(F[0]/x)*x),939524096&e.$$.dirty[0]&&s(21,V=n.range(v,w,x).iter().map((t=>E(t,t+x))).toArray()),411041792&e.$$.dirty[0]&&s(23,nt=Y(nt,v,w)),15728640&e.$$.dirty[0]&&it.set({xPanes:T,yPanes:V,xPaneRange:Z,yPaneRange:nt}),98316&e.$$.dirty[0]&&st.set({min:C,max:F,width:H,height:I}),118366208&e.$$.dirty[0]&&rt.set({zoomAmount:U,scaleX:c,scaleY:$,span:G,pixelMatrix:J,inversePixelMatrix:Q,cssScale:y}),48&e.$$.dirty[0]&&lt.set({mapX:a,mapY:l})},[S,P,H,I,l,a,ot,o,r,R,z,A,L,U,K,C,F,G,J,Q,T,V,Z,nt,y,$,c,w,v,x,m,h,g,f,p,u,d,O,M,function(t){D[t?"unshift":"push"]((()=>{ot=t,s(6,ot)}))},function(){H=this.offsetWidth,I=this.offsetHeight,s(2,H),s(3,I)}]}class pe extends i{constructor(t){super(),s(this,t,ye,de,r,{width:0,height:11,pan:1,zoom:12,xAxisExtent:9,yAxisExtent:10},null,[-1,-1])}}function fe(t){let e,n,i,s,r,o,a,l,$,d,y,p,f,g,k,M,O,S,A,P,L,E,R,z;function Y(e){t[12](e)}e=new Dt({}),i=new Gt({props:{center:t[1],radius:t[0],strokeStyle:"dashed",strokeOpacity:.3,fillOpacity:0}}),r=new Wt({props:{center:t[1],radius:t[6],angle:t[9]}}),a=new ee({props:{point1:t[1],point2:t[8]}}),$=new ae({props:{point:t[1],angle:t[9]}}),y=new $e({props:{point:t[1],slope:Math.PI/4}});let j={color:"var(--visual-math-violet)"};function N(e){t[13](e)}void 0!==t[1]&&(j.point=t[1]),f=new Vt({props:j}),D.push((()=>rt(f,"point",Y)));let X={transform:t[7],constrain:"horizontal",color:"var(--visual-math-indigo)"};function q(e){t[14](e)}void 0!==t[4]&&(X.point=t[4]),M=new Vt({props:X}),D.push((()=>rt(M,"point",N)));let H={transform:t[7],constrain:"vertical",color:"var(--visual-math-blue)"};function I(e){t[15](e)}void 0!==t[5]&&(H.point=t[5]),A=new Vt({props:H}),D.push((()=>rt(A,"point",q)));let B={transform:t[2],constrain:t[10],color:"var(--visual-math-pink)"};return void 0!==t[3]&&(B.point=t[3]),E=new Vt({props:B}),D.push((()=>rt(E,"point",I))),{c(){h(e.$$.fragment),n=b(),h(i.$$.fragment),s=b(),h(r.$$.fragment),o=b(),h(a.$$.fragment),l=b(),h($.$$.fragment),d=b(),h(y.$$.fragment),p=b(),h(f.$$.fragment),k=b(),h(M.$$.fragment),S=b(),h(A.$$.fragment),L=b(),h(E.$$.fragment)},m(t,u){m(e,t,u),c(t,n,u),m(i,t,u),c(t,s,u),m(r,t,u),c(t,o,u),m(a,t,u),c(t,l,u),m($,t,u),c(t,d,u),m(y,t,u),c(t,p,u),m(f,t,u),c(t,k,u),m(M,t,u),c(t,S,u),m(A,t,u),c(t,L,u),m(E,t,u),z=!0},p(t,e){const n={};2&e&&(n.center=t[1]),1&e&&(n.radius=t[0]),i.$set(n);const s={};2&e&&(s.center=t[1]),64&e&&(s.radius=t[6]),512&e&&(s.angle=t[9]),r.$set(s);const o={};2&e&&(o.point1=t[1]),256&e&&(o.point2=t[8]),a.$set(o);const l={};2&e&&(l.point=t[1]),512&e&&(l.angle=t[9]),$.$set(l);const c={};2&e&&(c.point=t[1]),y.$set(c);const d={};!g&&2&e&&(g=!0,d.point=t[1],ot((()=>g=!1))),f.$set(d);const u={};128&e&&(u.transform=t[7]),!O&&16&e&&(O=!0,u.point=t[4],ot((()=>O=!1))),M.$set(u);const p={};128&e&&(p.transform=t[7]),!P&&32&e&&(P=!0,p.point=t[5],ot((()=>P=!1))),A.$set(p);const h={};4&e&&(h.transform=t[2]),1024&e&&(h.constrain=t[10]),!R&&8&e&&(R=!0,h.point=t[3],ot((()=>R=!1))),E.$set(h)},i(t){z||(x(e.$$.fragment,t),x(i.$$.fragment,t),x(r.$$.fragment,t),x(a.$$.fragment,t),x($.$$.fragment,t),x(y.$$.fragment,t),x(f.$$.fragment,t),x(M.$$.fragment,t),x(A.$$.fragment,t),x(E.$$.fragment,t),z=!0)},o(t){v(e.$$.fragment,t),v(i.$$.fragment,t),v(r.$$.fragment,t),v(a.$$.fragment,t),v($.$$.fragment,t),v(y.$$.fragment,t),v(f.$$.fragment,t),v(M.$$.fragment,t),v(A.$$.fragment,t),v(E.$$.fragment,t),z=!1},d(t){w(e,t),t&&u(n),w(i,t),t&&u(s),w(r,t),t&&u(o),w(a,t),t&&u(l),w($,t),t&&u(d),w(y,t),t&&u(p),w(f,t),t&&u(k),w(M,t),t&&u(S),w(A,t),t&&u(L),w(E,t)}}}function ge(t){let e,n;return e=new pe({props:{width:"auto",height:"auto",$$slots:{default:[fe]},$$scope:{ctx:t}}}),{c(){h(e.$$.fragment)},m(t,i){m(e,t,i),n=!0},p(t,[n]){const i={};67583&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function he(t,e,n){let i,s,{rotationHintRadius:r=4}=e,o=E(0,0),a=N(),l=E(r,0),c=N(),$=E(r-1,0),d=E(0,r-2),u=j(),y=N(),p=j();return t.$$set=t=>{"rotationHintRadius"in t&&n(0,r=t.rotationHintRadius)},t.$$.update=()=>{6&t.$$.dirty&&n(2,a=nt(a,o)),8&t.$$.dirty&&n(9,i=Math.PI/2-Math.atan2(l[0],l[1])),2560&t.$$.dirty&&n(11,c=it(c,i)),112&t.$$.dirty&&n(6,u=Y(u,$[0],d[1])),2180&t.$$.dirty&&n(7,y=st(y,a,c)),268&t.$$.dirty&&n(8,p=I(p,l,a)),1&t.$$.dirty&&n(10,s=t=>U(t,K(t,t),r))},[r,o,a,l,$,d,u,y,p,i,s,c,function(t){o=t,n(1,o)},function(t){$=t,n(4,$)},function(t){d=t,n(5,d)},function(t){l=t,n(3,l)}]}class me extends i{constructor(t){super(),s(this,t,he,ge,r,{rotationHintRadius:0})}}window.addEventListener("load",(function(){new me({target:document.getElementById("app")})}));
