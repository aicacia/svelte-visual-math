function e(){}function t(e,t){for(const r in t)e[r]=t[r];return e}function r(e){return e()}function n(){return Object.create(null)}function i(e){e.forEach(r)}function s(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,r,n){t.$$.on_destroy.push(function(t,...r){if(null==t)return e;const n=t.subscribe(...r);return n.unsubscribe?()=>n.unsubscribe():n}(r,n))}function u(e,t,r,n){if(e){const i=c(e,t,r,n);return e[0](i)}}function c(e,r,n,i){return e[1]&&i?t(n.ctx.slice(),e[1](i(r))):n.ctx}function h(e,t,r,n){if(e[2]&&n){const i=e[2](n(r));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],r=Math.max(t.dirty.length,i.length);for(let n=0;n<r;n+=1)e[n]=t.dirty[n]|i[n];return e}return t.dirty|i}return t.dirty}function l(e,t,r,n,i,s){if(i){const o=c(t,r,n,s);e.p(o,i)}}function f(e){if(e.ctx.length>32){const t=[],r=e.ctx.length/32;for(let e=0;e<r;e++)t[e]=-1;return t}return-1}function d(e,t){e.appendChild(t)}function p(e,t,r){e.insertBefore(t,r||null)}function m(e){e.parentNode.removeChild(e)}function g(e){return document.createElement(e)}function v(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function b(e){return document.createTextNode(e)}function y(){return b(" ")}function _(){return b("")}function O(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function w(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function k(e,t){for(const r in t)w(e,r,t[r])}function x(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}let P,S;function j(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const r=g("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const n=function(){if(void 0===P){P=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){P=!0}}return P}();let i;return n?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=O(window,"message",(e=>{e.source===r.contentWindow&&t()}))):(r.src="about:blank",r.onload=()=>{i=O(r.contentWindow,"resize",t)}),d(e,r),()=>{(n||i&&r.contentWindow)&&i(),m(r)}}function M(e,t,r){e.classList[r?"add":"remove"](t)}function E(e){S=e}function T(){if(!S)throw new Error("Function called outside component initialization");return S}function I(e){T().$$.on_mount.push(e)}function D(e,t){T().$$.context.set(e,t)}function F(e){return T().$$.context.get(e)}const $=[],A=[],R=[],H=[],C=Promise.resolve();let J=!1;function L(e){R.push(e)}function N(e){H.push(e)}let U=!1;const K=new Set;function B(){if(!U){U=!0;do{for(let e=0;e<$.length;e+=1){const t=$[e];E(t),W(t.$$)}for(E(null),$.length=0;A.length;)A.pop()();for(let e=0;e<R.length;e+=1){const t=R[e];K.has(t)||(K.add(t),t())}R.length=0}while($.length);for(;H.length;)H.pop()();J=!1,U=!1,K.clear()}}function W(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(L)}}const z=new Set;let V;function Y(){V={r:0,c:[],p:V}}function q(){V.r||i(V.c),V=V.p}function X(e,t){e&&e.i&&(z.delete(e),e.i(t))}function G(e,t,r,n){if(e&&e.o){if(z.has(e))return;z.add(e),V.c.push((()=>{z.delete(e),n&&(r&&e.d(1),n())})),e.o(t)}}function Q(e,t){e.d(1),t.delete(e.key)}function Z(e,t,r,n,i,s,o,a,u,c,h,l){let f=e.length,d=s.length,p=f;const m={};for(;p--;)m[e[p].key]=p;const g=[],v=new Map,b=new Map;for(p=d;p--;){const e=l(i,s,p),a=r(e);let u=o.get(a);u?n&&u.p(e,t):(u=c(a,e),u.c()),v.set(a,g[p]=u),a in m&&b.set(a,Math.abs(p-m[a]))}const y=new Set,_=new Set;function O(e){X(e,1),e.m(a,h),o.set(e.key,e),h=e.first,d--}for(;f&&d;){const t=g[d-1],r=e[f-1],n=t.key,i=r.key;t===r?(h=t.first,f--,d--):v.has(i)?!o.has(n)||y.has(n)?O(t):_.has(i)?f--:b.get(n)>b.get(i)?(_.add(n),O(t)):(y.add(i),f--):(u(r,o),f--)}for(;f--;){const t=e[f];v.has(t.key)||u(t,o)}for(;d;)O(g[d-1]);return g}function ee(e,t){const r={},n={},i={$$scope:1};let s=e.length;for(;s--;){const o=e[s],a=t[s];if(a){for(const e in o)e in a||(n[e]=1);for(const e in a)i[e]||(r[e]=a[e],i[e]=1);e[s]=a}else for(const e in o)i[e]=1}for(const o in n)o in r||(r[o]=void 0);return r}function te(e,t,r){const n=e.$$.props[t];void 0!==n&&(e.$$.bound[n]=r,r(e.$$.ctx[n]))}function re(e){e&&e.c()}function ne(e,t,n,o){const{fragment:a,on_mount:u,on_destroy:c,after_update:h}=e.$$;a&&a.m(t,n),o||L((()=>{const t=u.map(r).filter(s);c?c.push(...t):i(t),e.$$.on_mount=[]})),h.forEach(L)}function ie(e,t){const r=e.$$;null!==r.fragment&&(i(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function se(e,t){-1===e.$$.dirty[0]&&($.push(e),J||(J=!0,C.then(B)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function oe(t,r,s,o,a,u,c,h=[-1]){const l=S;E(t);const f=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:r.context||[]),callbacks:n(),dirty:h,skip_bound:!1,root:r.target||l.$$.root};c&&c(f.root);let d=!1;if(f.ctx=s?s(t,r.props||{},((e,r,...n)=>{const i=n.length?n[0]:r;return f.ctx&&a(f.ctx[e],f.ctx[e]=i)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](i),d&&se(t,e)),r})):[],f.update(),d=!0,i(f.before_update),f.fragment=!!o&&o(f.ctx),r.target){if(r.hydrate){const e=(p=r.target,Array.from(p.childNodes));f.fragment&&f.fragment.l(e),e.forEach(m)}else f.fragment&&f.fragment.c();r.intro&&X(t.$$.fragment),ne(t,r.target,r.anchor,r.customElement),B()}var p;E(l)}class ae{$destroy(){ie(this,1),this.$destroy=e}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var ue="undefined"!=typeof Float32Array?Float32Array:Array;function ce(){var e=new ue(6);return ue!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function he(e,t){var r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],u=r*s-n*i;return u?(u=1/u,e[0]=s*u,e[1]=-n*u,e[2]=-i*u,e[3]=r*u,e[4]=(i*a-s*o)*u,e[5]=(n*o-r*a)*u,e):null}function le(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function fe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function de(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var pe=function(e,t,r){var n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],u=t[5],c=r[0],h=r[1],l=r[2],f=r[3],d=r[4],p=r[5];return e[0]=n*c+s*h,e[1]=i*c+o*h,e[2]=n*l+s*f,e[3]=i*l+o*f,e[4]=n*d+s*p+a,e[5]=i*d+o*p+u,e};function me(){var e=new ue(2);return ue!=Float32Array&&(e[0]=0,e[1]=0),e}function ge(e,t){var r=new ue(2);return r[0]=e,r[1]=t,r}function ve(e,t,r){return e[0]=t,e[1]=r,e}function be(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function ye(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function _e(e,t){var r=t[0],n=t[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function Oe(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}var we=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e};me();const ke={toVector:(e,t)=>(void 0===e&&(e=t),Array.isArray(e)?e:[e,e]),add:(e,t)=>[e[0]+t[0],e[1]+t[1]],sub:(e,t)=>[e[0]-t[0],e[1]-t[1]],addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function xe(e,t,r){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*r):e*t*r/(t+r*e)}function Pe(e,t,r,n=.15){return 0===n?function(e,t,r){return Math.max(t,Math.min(e,r))}(e,t,r):e<t?-xe(t-e,r-t,n)+t:e>r?+xe(e-r,r-t,n)+r:e}function Se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){Se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ee={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Te(e){return e?e[0].toUpperCase()+e.slice(1):""}function Ie(e){return"touches"in e}function De(e){return Ie(e)?function(e){return"touchend"===e.type?e.changedTouches:e.targetTouches}(e)[0]:e}function Fe(e){return function(e){return Array.from(e.touches).filter((t=>{var r,n;return t.target===e.currentTarget||(null===(r=e.currentTarget)||void 0===r||null===(n=r.contains)||void 0===n?void 0:n.call(r,t.target))}))}(e).map((e=>e.identifier))}function $e(e){const t=De(e);return Ie(e)?t.identifier:t.pointerId}function Ae(e){const t=De(e);return[t.clientX,t.clientY]}function Re(e,...t){return"function"==typeof e?e(...t):e}function He(){}function Ce(...e){return 0===e.length?He:1===e.length?e[0]:function(){let t;for(const r of e)t=r.apply(this,arguments)||t;return t}}function Je(e,t){return Object.assign({},t,e||{})}class Le extends class{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={values:[0,0],initial:[0,0]},this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,config:r,ingKey:n,args:i}=this,{transform:s,threshold:o=[0,0]}=r;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._delta=[0,0],e._threshold=ke.sub(s(o),s([0,0])).map(Math.abs),e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.initial=t.values,t.lastOffset=r.from?Re(r.from,t):t.offset,t.offset=t.lastOffset),t.startTime=t.timeStamp=e.timeStamp}compute(e){const{state:t,config:r,shared:n}=this;t.args=this.args;let i=0;if(e&&(t.event=e,t.type=e.type,n.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,n.locked=!!document.pointerLockElement,Object.assign(n,function(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:r,altKey:n,metaKey:i,ctrlKey:s}=e;Object.assign(t,{shiftKey:r,altKey:n,metaKey:i,ctrlKey:s})}return t}(e)),n.down=n.pressed=n.buttons%2==1||n.touches>0,i=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const e=t._delta.map(Math.abs);ke.addTo(t._distance,e)}const[s,o]=r.transform(t._movement),[a,u]=t._threshold;let[c,h]=t._step;if(!1===c&&(c=Math.abs(s)>=a&&Math.sign(s)*a),!1===h&&(h=Math.abs(o)>=u&&Math.sign(o)*u),t.intentional=!1!==c||!1!==h,!t.intentional)return;t._step=[c,h];const l=[0,0];if(l[0]=!1!==c?s-c:0,l[1]=!1!==h?o-h:0,this.intent&&this.intent(l),(t._active&&!t._blocked||t.active)&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=n[this.ingKey]=t._active,e)){t.first&&("bounds"in r&&(t._bounds=Re(r.bounds,t)),this.setup&&this.setup());const e=t.movement;if(t.movement=l,this.computeOffset(),!t.last){t.delta=ke.sub(l,e);const r=t.delta.map(Math.abs);ke.addTo(t.distance,r),t.direction=t.delta.map(Math.sign),!t.first&&i>0&&(t.velocity=[r[0]/i,r[1]/i])}}const f=t._active&&r.rubberband||[0,0];t.offset=function(e,[t,r],[n,i]){const[[s,o],[a,u]]=e;return[Pe(t,s,o,n),Pe(r,a,u,i)]}(t._bounds,t.offset,f),this.computeMovement()}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const n=this.handler(Me(Me(Me({},t),e),{},{[this.aliasKey]:e.values}));void 0!==n&&(e.memo=n)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}{constructor(...e){super(...e),Se(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=ke.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=ke.sub(this.state.offset,this.state.lastOffset)}intent(e){this.state.axis=this.state.axis||function([e,t]){const r=Math.abs(e)-Math.abs(t);return r>0?"x":r<0?"y":void 0}(e),this.state._blocked=(this.config.lockDirection||!!this.config.axis)&&!this.state.axis||!!this.config.axis&&this.config.axis!==this.state.axis,this.state._blocked||(this.config.axis||this.config.lockDirection)&&function(e,t){switch(t){case"x":e[1]=0;break;case"y":e[0]=0}}(e,this.state.axis)}}const Ne={enabled:(e=!0)=>e,triggerAllEvents:(e=!1)=>e,rubberband(e=0){switch(e){case!0:return[.15,.15];case!1:return[0,0];default:return ke.toVector(e)}},from:e=>"function"==typeof e?e:null!=e?ke.toVector(e):void 0,transform:(e,t,r)=>e||r.shared.transform},Ue=Me(Me({},Ne),{},{axis(e,t,{axis:r}){if(this.lockDirection="lock"===r,!this.lockDirection)return r},bounds(e={}){if("function"==typeof e)return t=>Ue.bounds(e(t));if("current"in e)return()=>e.current;if("function"==typeof HTMLElement&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:r=1/0,top:n=-1/0,bottom:i=1/0}=e;return[[t,r],[n,i]]}}),Ke={ArrowRight:(e=1)=>[10*e,0],ArrowLeft:(e=1)=>[-10*e,0],ArrowUp:(e=1)=>[0,-10*e],ArrowDown:(e=1)=>[0,10*e]};const Be="undefined"!=typeof window&&window.document&&window.document.createElement;function We(){return Be&&"ontouchstart"in window}const ze={isBrowser:Be,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:We(),touchscreen:We()||Be&&navigator.maxTouchPoints>1,pointer:Be&&"onpointerdown"in window,pointerLock:Be&&"exitPointerLock"in window.document},Ve=Me(Me({},Ue),{},{pointerLock(e,t,{pointer:{lock:r=!1,touch:n=!1}={}}){return this.useTouch=ze.touch&&n,ze.pointerLock&&r},device(e,t){return this.useTouch?"touch":this.pointerLock?"mouse":ze.pointer?"pointer":ze.touch?"touch":"mouse"},preventScroll(e=!1,t,{preventScrollAxis:r="y"}){return r&&(this.preventScrollAxis=r),!!ze.touchscreen&&("number"==typeof e?e:!!e&&250)},pointerCapture(e,t,{pointer:{capture:r=!0}={}}){return!this.pointerLock&&"pointer"===this.device&&r},threshold(e,t,{filterTaps:r=!1,axis:n}){const i=ke.toVector(e,r?3:n?1:0);return this.filterTaps=r,i},swipe({velocity:e=.5,distance:t=50,duration:r=250}={}){return{velocity:this.transform(ke.toVector(e)),distance:this.transform(ke.toVector(t)),duration:r}},delay(e=0){switch(e){case!0:return 180;case!1:return 0;default:return e}}});Me(Me({},Ne),{},{useTouch:(e,t,{pointer:{touch:r=!1}={}})=>ze.touch&&r,device(e,t,r){if(r.shared.target&&!ze.touch&&ze.gesture)return"gesture";if(this.useTouch)return"touch";if(ze.touchscreen){if(ze.pointer)return"pointer";if(ze.touch)return"touch"}},bounds(e,t,{scaleBounds:r={},angleBounds:n={}}){const i=e=>{const t=Je(Re(r,e),{min:-1/0,max:1/0});return[t.min,t.max]},s=e=>{const t=Je(Re(n,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!=typeof r&&"function"!=typeof n?[i(),s()]:e=>[i(e),s(e)]},threshold(e,t,r){this.lockDirection="lock"===r.axis;return ke.toVector(e,this.lockDirection?[.1,3]:0)}}),Me(Me({},Ue),{},{mouseOnly:(e=!0)=>e});const Ye=Ue;Me(Me({},Ue),{},{mouseOnly:(e=!0)=>e});const qe=new Map,Xe=new Map;function Ge(e){qe.set(e.key,e.engine),Xe.set(e.key,e.resolver)}const Qe={key:"drag",engine:class extends Le{constructor(...e){super(...e),Se(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),n={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=Ue.bounds(n)}}cancel(){const e=this.state;e.canceled||setTimeout((()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()}),0)}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){if(null!=e.buttons&&e.buttons%2!=1)return;this.ctrl.setEventIds(e),this.config.pointerCapture&&e.target.setPointerCapture(e.pointerId);const t=this.state,r=this.config;t._pointerActive||(this.start(e),this.setupPointer(e),t._pointerId=$e(e),t._pointerActive=!0,t.values=Ae(e),t.initial=t.values,r.preventScroll?this.setupScrollPrevention(e):r.delay>0?this.setupDelayTrigger(e):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive)return;if(t.type===e.type&&e.timeStamp===t.timeStamp)return;const n=$e(e);if(t._pointerId&&n!==t._pointerId)return;const i=Ae(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=ke.sub(i,t.values),t.values=i),ke.addTo(t._movement,t._delta),this.compute(e),t._delayed?(this.timeoutStore.remove("dragDelay"),void this.startPointerDrag(e)):r.preventScroll&&!t._preventScroll?t.axis?t.axis===r.preventScrollAxis||"xy"===r.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(o){}const t=this.state,r=this.config;if(!t._pointerActive)return;const n=$e(e);if(t._pointerId&&n!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[i,s]=t._distance;if(t.tap=i<=3&&s<=3,t.tap&&r.filterTaps)t._force=!0;else{const[e,n]=t.direction,[i,s]=t.velocity,[o,a]=t.movement,[u,c]=r.swipe.velocity,[h,l]=r.swipe.distance,f=r.swipe.duration;t.elapsedTime<f&&(Math.abs(i)>u&&Math.abs(o)>h&&(t.swipe[0]=e),Math.abs(s)>c&&Math.abs(a)>l&&(t.swipe[1]=n))}this.emit()}pointerClick(e){this.state.tap||(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config;let r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){!function(e){"persist"in e&&"function"==typeof e.persist&&e.persist()}(e),this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1}),this.eventStore.add(this.sharedConfig.window,"touch","end",this.clean.bind(this),{passive:!1}),this.eventStore.add(this.sharedConfig.window,"touch","cancel",this.clean.bind(this),{passive:!1}),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScroll,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",this.startPointerDrag.bind(this),this.config.delay,e)}keyDown(e){const t=Ke[e.key],r=this.state;if(t){const n=e.shiftKey?10:e.altKey?.1:1;r._delta=t(n),this.start(e),r._keyboardActive=!0,ke.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in Ke&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this))),e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this)),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0})}},resolver:Ve},Ze={key:"wheel",engine:class extends Le{constructor(...e){super(...e),Se(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const t=this.state;t._delta=function(e){let{deltaX:t,deltaY:r,deltaMode:n}=e;return 1===n?(t*=40,r*=40):2===n&&(t*=800,r*=800),[t,r]}(e),ke.addTo(this.state._movement,t._delta),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}},resolver:Ye};function et(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}const tt=e=>e,rt={target(e){if(e)return()=>"current"in e?e.current:e},enabled:(e=!0)=>e,window:(e=(ze.isBrowser?window:void 0))=>e,eventOptions:({passive:e=!0,capture:t=!1}={})=>({passive:e,capture:t}),transform:(e=tt)=>e},nt=["target","eventOptions","window","enabled","transform"];function it(e={},t){const r={};for(const[n,i]of Object.entries(t))switch(typeof i){case"function":r[n]=i.call(r,e[n],n,e);break;case"object":r[n]=it(e[n],i);break;case"boolean":i&&(r[n]=e[n])}return r}class st{constructor(e){Se(this,"_listeners",[]),this._ctrl=e}add(e,t,r,n,i){const s=function(e,t=""){const r=Ee[e];return e+(r&&r[t]||t)}(t,r),o=Me(Me({},this._ctrl.config.shared.eventOptions),i);e.addEventListener(s,n,o),this._listeners.push((()=>e.removeEventListener(s,n,o)))}clean(){this._listeners.forEach((e=>e())),this._listeners=[]}}class ot{constructor(){Se(this,"_timeouts",new Map)}add(e,t,r=140,...n){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...n))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach((e=>{window.clearTimeout(e)})),this._timeouts.clear()}}class at{constructor(e){Se(this,"gestures",new Set),Se(this,"_targetEventStore",new st(this)),Se(this,"gestureEventStores",{}),Se(this,"gestureTimeoutStores",{}),Se(this,"handlers",{}),Se(this,"config",{}),Se(this,"pointerIds",new Set),Se(this,"touchIds",new Set),Se(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&ut(e,"drag");t.wheel&&ut(e,"wheel");t.scroll&&ut(e,"scroll");t.move&&ut(e,"move");t.pinch&&ut(e,"pinch");t.hover&&ut(e,"hover")}(this,e)}setEventIds(e){Ie(e)?this.touchIds=new Set(Fe(e)):"pointerId"in e&&("pointerup"===e.type?this.pointerIds.delete(e.pointerId):this.pointerIds.add(e.pointerId))}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=function(e,t){const r=e,{target:n,eventOptions:i,window:s,enabled:o,transform:a}=r,u=et(r,nt),c={shared:it({target:n,eventOptions:i,window:s,enabled:o},rt)};if(t){const e=Xe.get(t);c[t]=it(Me({shared:c.shared},u),e)}else for(const h in u){const e=Xe.get(h);e&&(c[h]=it(Me({shared:c.shared},u[h]),e))}return c}(e,t)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r=t.eventOptions,n={};let i;if(t.target&&(i=t.target(),!i))return;const s=ct(n,r,!!i);if(t.enabled){for(const t of this.gestures)if(this.config[t].enabled){new(qe.get(t))(this,e,t).bind(s)}for(const t in this.nativeHandlers)s(t,"",(r=>this.nativeHandlers[t](Me(Me({},this.state.shared),{},{event:r,args:e}))),void 0,!0)}for(const o in n)n[o]=Ce(...n[o]);if(!i)return n;for(const o in n){let e=o.substr(2).toLowerCase();const t=!!~e.indexOf("capture"),r=!!~e.indexOf("passive");(t||r)&&(e=e.replace(/capture|passive/g,"")),this._targetEventStore.add(i,e,"",n[o],{capture:t,passive:r})}}}function ut(e,t){e.gestures.add(t),e.gestureEventStores[t]=new st(e),e.gestureTimeoutStores[t]=new ot}const ct=(e,t,r)=>(n,i,s,o={},a=!1)=>{var u,c;const h=null!==(u=o.capture)&&void 0!==u?u:t.capture,l=null!==(c=o.passive)&&void 0!==c?c:t.passive;let f=a?n:function(e,t="",r=!1){const n=Ee[e],i=n&&n[t]||t;return"on"+Te(e)+Te(i)+(r?"Capture":"")}(n,i,h);r&&l&&(f+="Passive"),e[f]=e[f]||[],e[f].push(s)};function ht(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(r),!0).forEach((function(t){ht(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const dt=function(e,t,r,n,i){this._gestureKey=n,this._ctrl=new at(t),this._ctrl.applyHandlers(t,i),this._ctrl.applyConfig(ft(ft({},r),{},{target:e}),this._gestureKey),this._ctrl.effect()};dt.prototype.destroy=function(){this._ctrl.clean()};const pt=function(e,t,r={}){return Ge(Qe),new dt(e,{drag:t},r,"drag")},mt=function(e,t,r={}){return Ge(Ze),new dt(e,{wheel:t},r,"wheel")};var gt,vt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},bt={};gt=bt,function(){(null!==gt?gt:this).Lethargy=function(){function e(e,t,r,n){this.stability=null!=e?Math.abs(e):8,this.sensitivity=null!=t?1+Math.abs(t):100,this.tolerance=null!=r?1+Math.abs(r):1.1,this.delay=null!=n?n:150,this.lastUpDeltas=function(){var e,t,r;for(r=[],e=1,t=2*this.stability;1<=t?e<=t:e>=t;1<=t?e++:e--)r.push(null);return r}.call(this),this.lastDownDeltas=function(){var e,t,r;for(r=[],e=1,t=2*this.stability;1<=t?e<=t:e>=t;1<=t?e++:e--)r.push(null);return r}.call(this),this.deltasTimestamp=function(){var e,t,r;for(r=[],e=1,t=2*this.stability;1<=t?e<=t:e>=t;1<=t?e++:e--)r.push(null);return r}.call(this)}return e.prototype.check=function(e){var t;return null!=(e=e.originalEvent||e).wheelDelta?t=e.wheelDelta:null!=e.deltaY?t=-40*e.deltaY:null==e.detail&&0!==e.detail||(t=-40*e.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),t>0?(this.lastUpDeltas.push(t),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(t),this.lastDownDeltas.shift(),this.isInertia(-1))},e.prototype.isInertia=function(e){var t,r,n,i,s,o,a;return null===(t=-1===e?this.lastDownDeltas:this.lastUpDeltas)[0]?e:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&t[0]===t[2*this.stability-1])&&(n=t.slice(0,this.stability),r=t.slice(this.stability,2*this.stability),a=n.reduce((function(e,t){return e+t})),s=r.reduce((function(e,t){return e+t})),o=a/n.length,i=s/r.length,Math.abs(o)<Math.abs(i*this.tolerance)&&this.sensitivity<Math.abs(i)&&e)},e.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},e.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},e}()}.call(vt);var yt={},_t={},Ot={};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.integerToBytes=void 0,Ot.integerToBytes=function(e,t){return e[0]=(4278190080&t)>>24,e[1]=(16711680&t)>>16,e[2]=(65280&t)>>8,e[3]=255&t,e};var wt={},kt={},xt={};Object.defineProperty(xt,"__esModule",{value:!0}),xt.Hasher=void 0;const Pt=Ot,St=new Uint8Array(1),jt=new Uint8Array(4);xt.Hasher=class{writeByte(e){return St[0]=e,this.write(St)}writeInteger(e){return this.write(Pt.integerToBytes(jt,e))}};var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.smi=void 0,Mt.smi=function(e){return e>>>1&1073741824|3221225471&e},Object.defineProperty(kt,"__esModule",{value:!0}),kt.FastHasher=void 0;const Et=xt,Tt=Mt;class It extends Et.Hasher{constructor(){super(...arguments),this.hash=0}finish(){return this.hash}write(e){let t=this.hash;for(let r=0,n=e.length;r<n;r++)t=31*t+e[r];return this.hash=Tt.smi(t),this}}kt.FastHasher=It,Object.defineProperty(wt,"__esModule",{value:!0}),wt.defaultHasher=void 0;const Dt=kt;wt.defaultHasher=function(){return new Dt.FastHasher};var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.bytesToInteger=void 0,Ft.bytesToInteger=function(e){return e[3]|e[2]<<8|e[1]<<16|e[0]<<24};var $t={};Object.defineProperty($t,"__esModule",{value:!0}),$t.hash=$t.hashOf=void 0;const At=wt,Rt=new Set;function Ht(e,t){return Ct(e,t),Rt.clear(),t}function Ct(e,t){return null==e||Rt.has(e)||(Rt.add(e),"string"==typeof e?Jt(e,t):"number"==typeof e?function(e,t){t.writeInteger(e)}(e,t):"boolean"==typeof e?function(e,t){t.writeInteger(!0===e?1:0)}(e,t):"symbol"==typeof e?function(e,t){Jt(e.toString(),t)}(e,t):"function"==typeof e[Symbol.iterator]?function(e,t){for(const r of e)Ct(r,t)}(e,t):"number"==typeof e.length?function(e,t){for(let r=0,n=e.length;r<n;r++)Ct(e[r],t)}(e,t):function(e,t){for(const r in e)e.hasOwnProperty(r)&&(Jt(r,t),Ct(e[r],t))}(e,t)),t}function Jt(e,t){for(const r of e)t.writeInteger(r.charCodeAt(0))}$t.hashOf=function(e,t=At.defaultHasher){return Ht(e,t()).finish()},$t.hash=Ht,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.smi=e.hash=e.hashOf=e.Hasher=e.FastHasher=e.bytesToInteger=e.defaultHasher=e.integerToBytes=void 0;var t=Ot;Object.defineProperty(e,"integerToBytes",{enumerable:!0,get:function(){return t.integerToBytes}});var r=wt;Object.defineProperty(e,"defaultHasher",{enumerable:!0,get:function(){return r.defaultHasher}});var n=Ft;Object.defineProperty(e,"bytesToInteger",{enumerable:!0,get:function(){return n.bytesToInteger}});var i=kt;Object.defineProperty(e,"FastHasher",{enumerable:!0,get:function(){return i.FastHasher}});var s=xt;Object.defineProperty(e,"Hasher",{enumerable:!0,get:function(){return s.Hasher}});var o=$t;Object.defineProperty(e,"hashOf",{enumerable:!0,get:function(){return o.hashOf}}),Object.defineProperty(e,"hash",{enumerable:!0,get:function(){return o.hash}});var a=Mt;Object.defineProperty(e,"smi",{enumerable:!0,get:function(){return a.smi}})}(_t);var Lt={},Nt={},Ut={},Kt={},Bt={};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.toJS=void 0,Bt.toJS=function(e){return null!=e&&"function"==typeof e.toJS?e.toJS():e};var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.toJSON=void 0,Wt.toJSON=function(e){return null!=e&&"function"==typeof e.toJSON?e.toJSON():e},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.none=e.some=e.Option=void 0;const t=Bt,r=Wt,n={},i={};class s{constructor(e,t){if(e!==n)throw new TypeError("Options can only be created with the some or none functions");this._value=t}static some(t){return e.some(t)}static none(){return e.none()}static from(t){return null!=t?e.some(t):e.none()}static fromResult(t){return t.isOk()?e.some(t.unwrap()):e.none()}isNone(){return this._value===i}isSome(){return!this.isNone()}expect(e){if(this.isSome())return this._value;throw new Error("function"==typeof e?e():e)}unwrap(){return this.expect("Tried to unwrap value of none Option")}unwrapOr(e){return this.isSome()?this._value:e}unwrapOrElse(e){return this.isSome()?this._value:e()}map(t){return this.isSome()?e.some(t(this._value)):e.none()}mapOr(t,r){return this.isSome()?e.some(t(this._value)):e.some(r)}mapOrElse(t,r){return this.isSome()?e.some(t(this._value)):e.some(r())}flatMap(t){return this.isSome()?t(this._value):e.none()}flatMapOr(e,t){return this.isSome()?e(this._value):t}flatMapOrElse(e,t){return this.isSome()?e(this._value):t()}and(t){return this.isSome()?t:e.none()}andThen(t){return this.isSome()?t(this._value):e.none()}or(e){return this.isNone()?e:this}orElse(e){return this.isNone()?e():this}xor(t){const r=this.isSome(),n=t.isSome();return r&&!n?this:!r&&n?t:e.none()}filter(t){return this.isSome()&&t(this._value)?this:e.none()}getOrInsert(e){return this.isNone()&&(this._value=e),this}getOrInsertWith(e){return this.isNone()&&(this._value=e()),this}take(){if(this.isSome()){const t=this._value;return this._value=i,e.some(t)}return e.none()}from(e){return null!=e?this._value=e:this.clear(),this}replace(e){return this._value=e,this}clear(){return this._value=i,this}fromResult(t){return t.isOk()?e.some(t.unwrap()):e.none()}ifSome(e,t){return this.isSome()?e(this._value):t&&t(),this}ifNone(e,t){return this.isNone()?e():t&&t(this._value),this}fromJSON(e){return s.from(e)}toJSON(){return this.map(r.toJSON).unwrapOr(null)}toJS(){return this.map(t.toJS).unwrapOr(null)}}e.Option=s;e.some=e=>new s(n,e);e.none=()=>new s(n,i)}(Kt),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.none=e.some=e.Option=void 0;var t=Kt;Object.defineProperty(e,"Option",{enumerable:!0,get:function(){return t.Option}}),Object.defineProperty(e,"some",{enumerable:!0,get:function(){return t.some}}),Object.defineProperty(e,"none",{enumerable:!0,get:function(){return t.none}})}(Ut),Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.iter=Nt.Iter=void 0;const zt=Ut;class Vt{constructor(e){this._index=0,this._iter=e}[Symbol.iterator](){return this}iter(){return this}next(){return this._iter.next()}nextWithIndex(){const e=this._iter.next();return e.done?e:{value:[e.value,this._index++]}}enumerate(){}peekable(){}forEach(e){}map(e){}merge(e){}concat(e){return this.merge(e)}filter(e){}step(e){}skip(e){}take(e){}toMap(e,t){}count(){return this.reduce(0,(e=>e+1))}consume(){let e=this.next();for(;!e.done;)e=this.next();return this}toArray(){return this.reduce([],((e,t)=>(e.push(t),e)))}join(e){return this.toArray().join(e)}indexOf(e){let t=this.next(),r=0;for(;!t.done;){if(t.value===e)return r;r++,t=this.next()}return-1}findIndex(e){let t=this.nextWithIndex();for(;!t.done;){const[r,n]=t.value;if(e(r,n))return n;t=this.nextWithIndex()}return-1}find(e){let t=this.nextWithIndex();for(;!t.done;){const[r,n]=t.value;if(e(r,n))return zt.some(r);t=this.nextWithIndex()}return zt.none()}findAll(e){return this.filter(e)}nth(e=0){let t=this.next();for(e<0&&(e=0);!t.done;){if(e--<=0)return zt.some(t.value);t=this.next()}return zt.none()}first(){return this.nth(0)}last(){let e=this.next();for(;!e.done;){const t=this.next();if(t.done)return zt.some(e.value);e=t}return zt.none()}any(e){return-1!==this.findIndex(e)}some(e){return this.any(e)}none(e){return-1===this.findIndex(e)}all(e){let t=this.nextWithIndex();for(;!t.done;){const[r,n]=t.value;if(!e(r,n))return!1;t=this.nextWithIndex()}return!0}unflatten(e){}reduce(e,t){let r=this.next();for(;!r.done;){e=t(e,r.value,this._index-1),r=this.next()}return e}reverse(){return Yt(this.toArray().reverse())}}function Yt(e){return null!=e?"function"==typeof e[Symbol.iterator]?new Vt(e[Symbol.iterator]()):"function"==typeof e.next?e instanceof Vt?e:new Vt(e):Yt("object"==typeof e?Object.entries(e):[e]):Yt([])}Nt.Iter=Vt,Nt.iter=Yt;var qt={};Object.defineProperty(qt,"__esModule",{value:!0}),qt.Enumerate=void 0;const Xt=Nt;class Gt extends Xt.Iter{constructor(e){super(e)}next(){const e=super.nextWithIndex();return e.done?e:{value:Qt(e.value)}}}function Qt(e){const t=e[0],r=e;return r[0]=e[1],r[1]=t,r}qt.Enumerate=Gt,Xt.Iter.prototype.enumerate=function(){return new Gt(this)};var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.Filter=void 0;const er=Nt;class tr extends er.Iter{constructor(e,t){super(e),this._fn=t}next(){let e=super.nextWithIndex();for(;!e.done;){const[t,r]=e.value;if(this._fn(t,r))return{done:!1,value:t};e=super.nextWithIndex()}return{done:!0,value:void 0}}}Zt.Filter=tr,er.Iter.prototype.filter=function(e){return new tr(this,e)};var rr={};Object.defineProperty(rr,"__esModule",{value:!0}),rr.ForEach=void 0;const nr=Nt;class ir extends nr.Iter{constructor(e,t){super(e),this._fn=([e,r])=>(t(e,r),e)}next(){const e=super.nextWithIndex();return e.done?e:{done:!1,value:this._fn(e.value)}}}rr.ForEach=ir,nr.Iter.prototype.forEach=function(e){return new ir(this,e)};var sr={};Object.defineProperty(sr,"__esModule",{value:!0}),sr.Map=void 0;const or=Nt;class ar extends or.Iter{constructor(e,t){super(e),this._fn=([e,r])=>t(e,r)}next(){const e=super.nextWithIndex();return e.done?e:{done:!1,value:this._fn(e.value)}}}sr.Map=ar,or.Iter.prototype.map=function(e){return new ar(this,e)};var ur={};Object.defineProperty(ur,"__esModule",{value:!0}),ur.Merge=void 0;const cr=Nt;class hr extends cr.Iter{constructor(e,t){super(e),this._other=t}next(){const e=super.next();return e.done?this._other.next():e}}ur.Merge=hr,cr.Iter.prototype.merge=function(e){return new hr(this,e)};var lr={};Object.defineProperty(lr,"__esModule",{value:!0}),lr.Peekable=void 0;const fr=Ut,dr=Nt;class pr extends dr.Iter{constructor(){super(...arguments),this.peeked=[]}unpeekAll(){return this.peeked.length=0,this}unpeek(){return this.peeked.length>0?fr.some(this.peeked.shift()):fr.none()}peek(e=0){if(e<this.peeked.length)return fr.some(this.peeked[e]);{let t=this.peeked.length-e-1,r=super.next();for(;!(r.done||(this.peeked.push(r.value),--t<=0));)r=super.next();return r.done?fr.none():fr.some(r.value)}}next(){const e=this.unpeek();if(e.isSome())return{done:!1,value:e.unwrap()};const t=super.next();return t.done?t:{done:!1,value:t.value}}}lr.Peekable=pr,dr.Iter.prototype.peekable=function(){return new pr(this)};var mr={};Object.defineProperty(mr,"__esModule",{value:!0}),mr.Skip=void 0;const gr=Nt;class vr extends gr.Iter{constructor(e,t){super(e),this._skipped=0,this._skip=0|(t<=0?0:t)}next(){let e=super.next();for(;!e.done;){if(!(this._skipped<=this._skip))return e;this._skipped+=1,e=super.next()}return{done:!0,value:void 0}}}mr.Skip=vr,gr.Iter.prototype.skip=function(e){return new vr(this,e)};var br={};Object.defineProperty(br,"__esModule",{value:!0}),br.Step=void 0;const yr=Nt;class _r extends yr.Iter{constructor(e,t){super(e),this._stepped=0,this._step=t<=0?1:0|t}next(){let e=super.next();for(;!e.done;){if(!(this._stepped<this._step))return this._stepped=0,e;this._stepped+=1,e=super.next()}return{done:!0,value:void 0}}}br.Step=_r,yr.Iter.prototype.step=function(e){return new _r(this,e)};var Or={};Object.defineProperty(Or,"__esModule",{value:!0}),Or.Take=void 0;const wr=Nt;class kr extends wr.Iter{constructor(e,t){super(e),this._taken=0,this._count=0|(t<=0?0:t)}next(){return this._taken<this._count?(this._taken+=1,super.next()):{done:!0,value:void 0}}}Or.Take=kr,wr.Iter.prototype.take=function(e){return new kr(this,e)};var xr={};Object.defineProperty(xr,"__esModule",{value:!0}),xr.ToMap=void 0;const Pr=Nt,Sr=e=>e,jr=e=>e;class Mr extends Pr.Iter{constructor(e,t=Sr,r=jr){super(e),this._map=([e,n])=>[t(e,n),r(e,n)]}toObject(){return this.reduce({},((e,t)=>(e[t[0]]=t[1],e)))}next(){const e=super.nextWithIndex();return e.done?e:{done:!1,value:this._map(e.value)}}}xr.ToMap=Mr,Pr.Iter.prototype.toMap=function(e,t){return new Mr(this,e,t)};var Er={};Object.defineProperty(Er,"__esModule",{value:!0}),Er.Unflatten=void 0;const Tr=Nt;class Ir extends Tr.Iter{constructor(e,t){super(e),this._fn=t}next(){return this._fn(this._iter)}}Er.Unflatten=Ir,Tr.Iter.prototype.unflatten=function(e){return new Ir(this,e)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Unflatten=e.ToMap=e.Take=e.Step=e.Skip=e.Peekable=e.Merge=e.Map=e.ForEach=e.Filter=e.Enumerate=e.iter=e.Iter=void 0;var t=Nt;Object.defineProperty(e,"Iter",{enumerable:!0,get:function(){return t.Iter}}),Object.defineProperty(e,"iter",{enumerable:!0,get:function(){return t.iter}});var r=qt;Object.defineProperty(e,"Enumerate",{enumerable:!0,get:function(){return r.Enumerate}});var n=Zt;Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return n.Filter}});var i=rr;Object.defineProperty(e,"ForEach",{enumerable:!0,get:function(){return i.ForEach}});var s=sr;Object.defineProperty(e,"Map",{enumerable:!0,get:function(){return s.Map}});var o=ur;Object.defineProperty(e,"Merge",{enumerable:!0,get:function(){return o.Merge}});var a=lr;Object.defineProperty(e,"Peekable",{enumerable:!0,get:function(){return a.Peekable}});var u=mr;Object.defineProperty(e,"Skip",{enumerable:!0,get:function(){return u.Skip}});var c=br;Object.defineProperty(e,"Step",{enumerable:!0,get:function(){return c.Step}});var h=Or;Object.defineProperty(e,"Take",{enumerable:!0,get:function(){return h.Take}});var l=xr;Object.defineProperty(e,"ToMap",{enumerable:!0,get:function(){return l.ToMap}});var f=Er;Object.defineProperty(e,"Unflatten",{enumerable:!0,get:function(){return f.Unflatten}})}(Lt);var Dr={},Fr={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.range=e.Range=e.RangeDirection=void 0;const t=Lt;var r,n;(n=r=e.RangeDirection||(e.RangeDirection={}))[n.Forward=0]="Forward",n[n.Backward=1]="Backward";class i{constructor(e,t,n=1){this.start=e,this.end=t,this.step=Math.abs(n),this.direction=e>t?r.Backward:r.Forward}static from(e,t,r=1){return new i(e,t,r)}getStart(){return this.start}getEnd(){return this.end}getStep(){return this.step}getDirection(){return this.direction}contains(e){return this.start<=e&&e<=this.end}isEmpty(){return this.direction===r.Forward?this.start>this.end:this.start<this.end}iter(){return new t.Iter(this)}[Symbol.iterator](){return this}next(){if(this.isEmpty())return{done:!0,value:void 0};{const e=this.start;return this.direction===r.Forward?this.start+=this.step:this.start-=this.step,{done:!1,value:e}}}}e.Range=i,e.range=i.from}(Fr);var $r={};Object.defineProperty($r,"__esModule",{value:!0}),$r.rangeFrom=$r.RangeFrom=void 0;const Ar=Fr;class Rr extends Ar.Range{static from(e,t=Ar.RangeDirection.Forward,r=1){return new Rr(e,t,r)}constructor(e,t=Ar.RangeDirection.Forward,r=1){t===Ar.RangeDirection.Forward?super(e,1/0,r):super(e,-1/0,r)}}$r.RangeFrom=Rr,$r.rangeFrom=Rr.from,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RangeFrom=e.rangeFrom=e.RangeDirection=e.range=e.Range=void 0;var t=Fr;Object.defineProperty(e,"Range",{enumerable:!0,get:function(){return t.Range}}),Object.defineProperty(e,"range",{enumerable:!0,get:function(){return t.range}}),Object.defineProperty(e,"RangeDirection",{enumerable:!0,get:function(){return t.RangeDirection}});var r=$r;Object.defineProperty(e,"rangeFrom",{enumerable:!0,get:function(){return r.rangeFrom}}),Object.defineProperty(e,"RangeFrom",{enumerable:!0,get:function(){return r.RangeFrom}})}(Dr);var Hr={},Cr={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.err=e.ok=e.Result=void 0;const t=Bt,r=Wt,n={},i={};class s{constructor(e,t,r){if(e!==n)throw new TypeError("Results can only be created with the ok or err functions");this._ok=t,this._err=r}static ok(t){return e.ok(t)}static err(t){return e.err(t)}static fromOption(t,r="Tried to create Result from none Option"){return t.isSome()?e.ok(t.unwrap()):e.err(new Error(r))}isErr(){return this._err!==i}isOk(){return this._ok!==i}expect(){if(this.isOk())return this._ok;throw this._err}unwrap(){return this.expect()}unwrapOr(e){return this.isOk()?this._ok:e}unwrapOrElse(e){return this.isOk()?this._ok:e(this._err)}map(t){return this.isOk()?e.ok(t(this._ok)):e.err(this._err)}mapOr(t,r){return this.isOk()?e.ok(t(this._ok)):e.ok(r)}mapOrElse(t,r){return this.isOk()?e.ok(t(this._ok)):e.ok(r(this._err))}flatMap(t){return this.isOk()?t(this._ok):e.err(this._err)}flatMapOr(e,t){return this.isOk()?e(this._ok):t}flatMapOrElse(e,t){return this.isOk()?e(this._ok):t(this._err)}expectErr(e){if(this.isErr())return this._err;throw new Error("function"==typeof e?e():e)}unwrapErr(){return this.expectErr("Tried to unwrap error value of ok Result")}unwrapErrOr(e){return this.isErr()?this._err:e}unwrapErrOrElse(e){return this.isErr()?this._err:e(this._ok)}mapErr(t){return this.isErr()?e.err(t(this._err)):e.ok(this._ok)}mapErrOr(t,r){return this.isErr()?e.err(t(this._err)):e.err(r)}mapErrOrElse(t,r){return this.isErr()?e.err(t(this._err)):e.err(r(this._ok))}flatMapErr(t){return this.isErr()?t(this._err):e.ok(this._ok)}flatMapErrOr(e,t){return this.isErr()?e(this._err):t}flatMapErrOrElse(e,t){return this.isErr()?e(this._err):t(this._ok)}and(t){return this.isOk()?t:e.err(this._err)}andThen(t){return this.isOk()?t(this._ok):e.err(this._err)}or(e){return this.isErr()?e:this}orElse(e){return this.isErr()?e(this._err):this}ifOk(e,t){return this.isOk()?e(this._ok):t&&t(this._err),this}ifErr(e,t){return this.isErr()?e(this._err):t&&t(this._ok),this}fromJSON(t){if(t){if(t.ok)return e.ok(t.ok);if(t.err)return e.err(t.err)}throw new TypeError("Invalid json for Result")}toJSON(){return this.isOk()?{ok:this.map(r.toJSON).unwrap()}:{err:this.mapErr(r.toJSON).unwrapErr()}}toJS(){return this.isOk()?{ok:this.map(t.toJS).unwrap()}:{err:this.mapErr(t.toJS).unwrapErr()}}}e.Result=s;e.ok=e=>new s(n,e,i);e.err=e=>new s(n,i,e)}(Cr),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.err=e.ok=e.Result=void 0;var t=Cr;Object.defineProperty(e,"Result",{enumerable:!0,get:function(){return t.Result}}),Object.defineProperty(e,"ok",{enumerable:!0,get:function(){return t.ok}}),Object.defineProperty(e,"err",{enumerable:!0,get:function(){return t.err}})}(Hr),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toJSON=e.toJS=e.Result=e.err=e.ok=e.RangeDirection=e.RangeFrom=e.Range=e.rangeFrom=e.range=e.Option=e.none=e.some=e.Unflatten=e.ToMap=e.Take=e.Step=e.Skip=e.Peekable=e.Merge=e.Map=e.Iter=e.iter=e.ForEach=e.Filter=e.Enumerate=e.hashOf=e.hash=e.defaultHasher=e.FastHasher=e.Hasher=e.bytesToInteger=e.integerToBytes=void 0;var t=_t;Object.defineProperty(e,"integerToBytes",{enumerable:!0,get:function(){return t.integerToBytes}}),Object.defineProperty(e,"bytesToInteger",{enumerable:!0,get:function(){return t.bytesToInteger}}),Object.defineProperty(e,"Hasher",{enumerable:!0,get:function(){return t.Hasher}}),Object.defineProperty(e,"FastHasher",{enumerable:!0,get:function(){return t.FastHasher}}),Object.defineProperty(e,"defaultHasher",{enumerable:!0,get:function(){return t.defaultHasher}}),Object.defineProperty(e,"hash",{enumerable:!0,get:function(){return t.hash}}),Object.defineProperty(e,"hashOf",{enumerable:!0,get:function(){return t.hashOf}});var r=Lt;Object.defineProperty(e,"Enumerate",{enumerable:!0,get:function(){return r.Enumerate}}),Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return r.Filter}}),Object.defineProperty(e,"ForEach",{enumerable:!0,get:function(){return r.ForEach}}),Object.defineProperty(e,"iter",{enumerable:!0,get:function(){return r.iter}}),Object.defineProperty(e,"Iter",{enumerable:!0,get:function(){return r.Iter}}),Object.defineProperty(e,"Map",{enumerable:!0,get:function(){return r.Map}}),Object.defineProperty(e,"Merge",{enumerable:!0,get:function(){return r.Merge}}),Object.defineProperty(e,"Peekable",{enumerable:!0,get:function(){return r.Peekable}}),Object.defineProperty(e,"Skip",{enumerable:!0,get:function(){return r.Skip}}),Object.defineProperty(e,"Step",{enumerable:!0,get:function(){return r.Step}}),Object.defineProperty(e,"Take",{enumerable:!0,get:function(){return r.Take}}),Object.defineProperty(e,"ToMap",{enumerable:!0,get:function(){return r.ToMap}}),Object.defineProperty(e,"Unflatten",{enumerable:!0,get:function(){return r.Unflatten}});var n=Ut;Object.defineProperty(e,"some",{enumerable:!0,get:function(){return n.some}}),Object.defineProperty(e,"none",{enumerable:!0,get:function(){return n.none}}),Object.defineProperty(e,"Option",{enumerable:!0,get:function(){return n.Option}});var i=Dr;Object.defineProperty(e,"range",{enumerable:!0,get:function(){return i.range}}),Object.defineProperty(e,"rangeFrom",{enumerable:!0,get:function(){return i.rangeFrom}}),Object.defineProperty(e,"Range",{enumerable:!0,get:function(){return i.Range}}),Object.defineProperty(e,"RangeFrom",{enumerable:!0,get:function(){return i.RangeFrom}}),Object.defineProperty(e,"RangeDirection",{enumerable:!0,get:function(){return i.RangeDirection}});var s=Hr;Object.defineProperty(e,"ok",{enumerable:!0,get:function(){return s.ok}}),Object.defineProperty(e,"err",{enumerable:!0,get:function(){return s.err}}),Object.defineProperty(e,"Result",{enumerable:!0,get:function(){return s.Result}});var o=Bt;Object.defineProperty(e,"toJS",{enumerable:!0,get:function(){return o.toJS}});var a=Wt;Object.defineProperty(e,"toJSON",{enumerable:!0,get:function(){return a.toJSON}})}(yt);const Jr=[];function Lr(t,r=e){let n;const i=new Set;function s(e){if(o(t,e)&&(t=e,n)){const e=!Jr.length;for(const r of i)r[1](),Jr.push(r,t);if(e){for(let e=0;e<Jr.length;e+=2)Jr[e][0](Jr[e+1]);Jr.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(o,a=e){const u=[o,a];return i.add(u),1===i.size&&(n=r(s)||e),o(t),()=>{i.delete(u),0===i.size&&(n(),n=null)}}}}export{le as $,we as A,fe as B,Lr as C,pt as D,A as E,b as F,x as G,Z as H,Q as I,e as J,a as K,_ as L,re as M,ne as N,ie as O,y as P,Y as Q,q as R,ae as S,t as T,k as U,M as V,mt as W,ee as X,he as Y,Oe as Z,de as _,o as a,pe as a0,ye as a1,_e as a2,te as a3,N as a4,u as b,me as c,v as d,g as e,w as f,F as g,L as h,oe as i,p as j,d as k,yt as l,j as m,f as n,h as o,G as p,m as q,ge as r,D as s,X as t,l as u,ce as v,bt as w,I as x,be as y,ve as z};
