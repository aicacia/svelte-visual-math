import{s as t,g as e,l as n,S as i,i as s,a as r,b as o,t as a,c as l,d as c,e as $,f as d,h as p,n as u,j as y,k as f,m as g,o as h,p as m,q as x,r as v,u as w,v as b,w as k,x as M,y as O,z as P,A as S,B as A,C as E,D as L,E as R,F as z,G as Y,H as j,I as N,J as X,K as q,L as H,M as I,N as B,O as D,P as U,Q as K,R as W,T as C,U as F,V as G,W as J,X as Q,Y as T,Z as V,_ as Z,$ as _,a0 as tt,a1 as et,a2 as nt,a3 as it}from"./vendor.303e6fa2.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),"use-credentials"===t.crossorigin?e.credentials="include":"anonymous"===t.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const st={};function rt(){return e(st)}const ot={};const at={};const lt={};function ct(){return e(lt)}function $t(t,e,i){return n.range(Math.floor(t/i)*i,Math.ceil(e/i)*i,i).iter().toArray()}function dt(t,e,n){const i=t.slice();return i[9]=e[n],i}function pt(t){let e,n,i,s,r=(t[0]?t[0](t[9]):t[9])+"";return{c(){e=o("text"),n=a(r),l(e,"x",i=t[1](t[9])),l(e,"y",s=5),l(e,"alignment-baseline","hanging"),l(e,"text-anchor","middle")},m(t,i){c(t,e,i),$(e,n)},p(t,s){5&s&&r!==(r=(t[0]?t[0](t[9]):t[9])+"")&&d(n,r),6&s&&i!==(i=t[1](t[9]))&&l(e,"x",i)},d(t){t&&p(e)}}}function ut(t){let e,n=t[2],i=[];for(let s=0;s<n.length;s+=1)i[s]=pt(dt(t,n,s));return{c(){e=o("g");for(let t=0;t<i.length;t+=1)i[t].c();l(e,"class","svelte-133qdtd")},m(t,n){c(t,e,n);for(let s=0;s<i.length;s+=1)i[s].m(e,null)},p(t,[s]){if(7&s){let r;for(n=t[2],r=0;r<n.length;r+=1){const o=dt(t,n,r);i[r]?i[r].p(o,s):(i[r]=pt(o),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},i:u,o:u,d(t){t&&p(e),y(i,t)}}}function yt(t,e,n){let i,s,r,o,a,{separation:l}=e,{labelMaker:c}=e,$=rt();f(t,$,(t=>n(8,a=t)));let d=ct();return f(t,d,(t=>n(7,o=t))),t.$$set=t=>{"separation"in t&&n(5,l=t.separation),"labelMaker"in t&&n(0,c=t.labelMaker)},t.$$.update=()=>{256&t.$$.dirty&&n(1,i=a.scaleX),128&t.$$.dirty&&n(6,s=o.xPanes),98&t.$$.dirty&&n(2,r=$t(s[0][0]-l,s[s.length-1][1]+l,l).filter((t=>Math.abs(i(t)-i(0))>1)))},[c,i,r,$,d,l,s,o,a]}class ft extends i{constructor(t){super(),s(this,t,yt,ut,r,{separation:5,labelMaker:0})}}function gt(t,e,n){const i=t.slice();return i[9]=e[n],i}function ht(t){let e,n,i,s,r=(t[0]?t[0](t[9]):t[9])+"";return{c(){e=o("text"),n=a(r),l(e,"x",i=5),l(e,"y",s=t[1](t[9])),l(e,"alignment-baseline","central")},m(t,i){c(t,e,i),$(e,n)},p(t,i){5&i&&r!==(r=(t[0]?t[0](t[9]):t[9])+"")&&d(n,r),6&i&&s!==(s=t[1](t[9]))&&l(e,"y",s)},d(t){t&&p(e)}}}function mt(t){let e,n=t[2],i=[];for(let s=0;s<n.length;s+=1)i[s]=ht(gt(t,n,s));return{c(){e=o("g");for(let t=0;t<i.length;t+=1)i[t].c();l(e,"class","svelte-133qdtd")},m(t,n){c(t,e,n);for(let s=0;s<i.length;s+=1)i[s].m(e,null)},p(t,[s]){if(7&s){let r;for(n=t[2],r=0;r<n.length;r+=1){const o=gt(t,n,r);i[r]?i[r].p(o,s):(i[r]=ht(o),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},i:u,o:u,d(t){t&&p(e),y(i,t)}}}function xt(t,e,n){let i,s,r,o,a,{separation:l}=e,{labelMaker:c}=e,$=rt();f(t,$,(t=>n(8,a=t)));let d=ct();return f(t,d,(t=>n(7,o=t))),t.$$set=t=>{"separation"in t&&n(5,l=t.separation),"labelMaker"in t&&n(0,c=t.labelMaker)},t.$$.update=()=>{256&t.$$.dirty&&n(1,i=a.scaleY),128&t.$$.dirty&&n(6,s=o.yPanes),98&t.$$.dirty&&n(2,r=$t(s[0][0]-l,s[s.length-1][1]+l,l).filter((t=>Math.abs(i(t)-i(0))>1)))},[c,i,r,$,d,l,s,o,a]}class vt extends i{constructor(t){super(),s(this,t,xt,mt,r,{separation:5,labelMaker:0})}}function wt(t,e,n){const i=t.slice();return i[13]=e[n],i}function bt(t,e,n){const i=t.slice();return i[16]=e[n],i}function kt(t){let e,n,i,s,r;return{c(){e=o("line"),l(e,"x1",n=t[16]),l(e,"y1",i=0),l(e,"x2",s=t[16]),l(e,"y2",t[3]),l(e,"style",r="stroke: var(--grid-line-subdivision-color)")},m(t,n){c(t,e,n)},p(t,i){32&i&&n!==(n=t[16])&&l(e,"x1",n),32&i&&s!==(s=t[16])&&l(e,"x2",s),8&i&&l(e,"y2",t[3])},d(t){t&&p(e)}}}function Mt(t){let e,n,i,s,r;return{c(){e=o("line"),l(e,"y1",n=t[13]),l(e,"x1",i=0),l(e,"y2",s=t[13]),l(e,"x2",t[4]),l(e,"style",r="stroke: var(--grid-line-subdivision-color)")},m(t,n){c(t,e,n)},p(t,i){64&i&&n!==(n=t[13])&&l(e,"y1",n),64&i&&s!==(s=t[13])&&l(e,"y2",s),16&i&&l(e,"x2",t[4])},d(t){t&&p(e)}}}function Ot(t){let e,n,i,s,r,a,$,d;return{c(){e=o("line"),a=o("line"),l(e,"x1",n=0),l(e,"y1",i=0),l(e,"x2",s=0),l(e,"y2",t[3]),l(e,"style",r="stroke: var(--visual-math-line-color)"),l(a,"x1",t[4]),l(a,"y1",$=0),l(a,"x2",t[4]),l(a,"y2",t[3]),l(a,"style",d="stroke: var(--visual-math-line-color)")},m(t,n){c(t,e,n),c(t,a,n)},p(t,n){8&n&&l(e,"y2",t[3]),16&n&&l(a,"x1",t[4]),16&n&&l(a,"x2",t[4]),8&n&&l(a,"y2",t[3])},d(t){t&&p(e),t&&p(a)}}}function Pt(t){let e,n,i,s,r,a,$,d;return{c(){e=o("line"),a=o("line"),l(e,"x1",n=0),l(e,"y1",i=0),l(e,"x2",t[4]),l(e,"y2",s=0),l(e,"style",r="stroke: var(--visual-math-line-color)"),l(a,"x1",$=0),l(a,"y1",t[3]),l(a,"x2",t[4]),l(a,"y2",t[3]),l(a,"style",d="stroke: var(--visual-math-line-color)")},m(t,n){c(t,e,n),c(t,a,n)},p(t,n){16&n&&l(e,"x2",t[4]),8&n&&l(a,"y1",t[3]),16&n&&l(a,"x2",t[4]),8&n&&l(a,"y2",t[3])},d(t){t&&p(e),t&&p(a)}}}function St(t){let e,n,i,s,r=t[5],a=[];for(let o=0;o<r.length;o+=1)a[o]=kt(bt(t,r,o));let d=t[6],f=[];for(let o=0;o<d.length;o+=1)f[o]=Mt(wt(t,d,o));let h=t[1]&&Ot(t),m=t[2]&&Pt(t);return{c(){e=o("pattern");for(let t=0;t<a.length;t+=1)a[t].c();n=g();for(let t=0;t<f.length;t+=1)f[t].c();i=g(),h&&h.c(),s=g(),m&&m.c(),l(e,"id",t[0]),l(e,"x","0"),l(e,"y","0"),l(e,"width",t[4]),l(e,"height",t[3]),l(e,"patternUnits","userSpaceOnUse")},m(t,r){c(t,e,r);for(let n=0;n<a.length;n+=1)a[n].m(e,null);$(e,n);for(let n=0;n<f.length;n+=1)f[n].m(e,null);$(e,i),h&&h.m(e,null),$(e,s),m&&m.m(e,null)},p(t,[o]){if(40&o){let i;for(r=t[5],i=0;i<r.length;i+=1){const s=bt(t,r,i);a[i]?a[i].p(s,o):(a[i]=kt(s),a[i].c(),a[i].m(e,n))}for(;i<a.length;i+=1)a[i].d(1);a.length=r.length}if(80&o){let n;for(d=t[6],n=0;n<d.length;n+=1){const s=wt(t,d,n);f[n]?f[n].p(s,o):(f[n]=Mt(s),f[n].c(),f[n].m(e,i))}for(;n<f.length;n+=1)f[n].d(1);f.length=d.length}t[1]?h?h.p(t,o):(h=Ot(t),h.c(),h.m(e,s)):h&&(h.d(1),h=null),t[2]?m?m.p(t,o):(m=Pt(t),m.c(),m.m(e,null)):m&&(m.d(1),m=null),1&o&&l(e,"id",t[0]),16&o&&l(e,"width",t[4]),8&o&&l(e,"height",t[3])},i:u,o:u,d(t){t&&p(e),y(a,t),y(f,t),h&&h.d(),m&&m.d()}}}function At(t,e,i){let s,r,o,a,l,{id:c}=e,{xLines:$=1}=e,{yLines:d=1}=e,{xSubdivisions:p=1}=e,{ySubdivisions:u=1}=e,y=rt();f(t,y,(t=>i(12,l=t)));let g=[],h=[];return t.$$set=t=>{"id"in t&&i(0,c=t.id),"xLines"in t&&i(1,$=t.xLines),"yLines"in t&&i(2,d=t.yLines),"xSubdivisions"in t&&i(8,p=t.xSubdivisions),"ySubdivisions"in t&&i(9,u=t.ySubdivisions)},t.$$.update=()=>{if(4096&t.$$.dirty&&i(11,s=l.scaleX),4096&t.$$.dirty&&i(10,r=l.scaleY),2050&t.$$.dirty&&i(4,o=s($||1)),1028&t.$$.dirty&&i(3,a=-r(d||1)),272&t.$$.dirty&&p&&p>1){const t=o/p;i(5,g=n.range(0,o+1.1*t,t).iter().toArray())}if(520&t.$$.dirty&&u&&u>1){const t=a/u;i(6,h=n.range(0,a+1.1*t,t).iter().toArray())}},[c,$,d,a,o,g,h,y,p,u,r,s,l]}class Et extends i{constructor(t){super(),s(this,t,At,St,r,{id:0,xLines:1,yLines:2,xSubdivisions:8,ySubdivisions:9})}}function Lt(t){let e,n;return e=new ft({props:{labelMaker:t[3].labels,separation:t[3].lines||1}}),{c(){h(e.$$.fragment)},m(t,i){m(e,t,i),n=!0},p(t,n){const i={};8&n&&(i.labelMaker=t[3].labels),8&n&&(i.separation=t[3].lines||1),e.$set(i)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Rt(t){let e,n;return e=new vt({props:{labelMaker:t[2].labels,separation:t[2].lines||1}}),{c(){h(e.$$.fragment)},m(t,i){m(e,t,i),n=!0},p(t,n){const i={};4&n&&(i.labelMaker=t[2].labels),4&n&&(i.separation=t[2].lines||1),e.$set(i)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function zt(t){let e,n,i,s,r;return{c(){e=o("line"),l(e,"x1",n=-1e7),l(e,"x2",i=1e7),l(e,"y1",s=0),l(e,"y2",r=0),l(e,"class","transform-y-to-center svelte-xqsvde")},m(t,n){c(t,e,n)},d(t){t&&p(e)}}}function Yt(t){let e,n,i,s,r;return{c(){e=o("line"),l(e,"x1",n=0),l(e,"x2",i=0),l(e,"y1",s=-1e7),l(e,"y2",r=1e7),l(e,"class","transform-x-to-center svelte-xqsvde")},m(t,n){c(t,e,n)},d(t){t&&p(e)}}}function jt(t){let e,n,i,s,r,a,$,d,u,y;n=new Et({props:{id:t[4],xLines:t[3].lines,yLines:t[2].lines,xSubdivisions:t[3].subdivisions,ySubdivisions:t[2].subdivisions}});let f=t[0].labels&&Lt(t),O=t[1].labels&&Rt(t),P=t[3].axis&&zt(),S=t[2].axis&&Yt();return{c(){e=o("defs"),h(n.$$.fragment),i=b(),s=o("rect"),r=b(),f&&f.c(),a=b(),O&&O.c(),$=b(),P&&P.c(),d=b(),S&&S.c(),u=g(),l(s,"fill",`url(#${t[4]})`),l(s,"x",-1e7),l(s,"y",-1e7),l(s,"width",2e7),l(s,"height",2e7)},m(t,o){c(t,e,o),m(n,e,null),c(t,i,o),c(t,s,o),c(t,r,o),f&&f.m(t,o),c(t,a,o),O&&O.m(t,o),c(t,$,o),P&&P.m(t,o),c(t,d,o),S&&S.m(t,o),c(t,u,o),y=!0},p(t,[e]){const i={};8&e&&(i.xLines=t[3].lines),4&e&&(i.yLines=t[2].lines),8&e&&(i.xSubdivisions=t[3].subdivisions),4&e&&(i.ySubdivisions=t[2].subdivisions),n.$set(i),t[0].labels?f?(f.p(t,e),1&e&&x(f,1)):(f=Lt(t),f.c(),x(f,1),f.m(a.parentNode,a)):f&&(k(),v(f,1,1,(()=>{f=null})),M()),t[1].labels?O?(O.p(t,e),2&e&&x(O,1)):(O=Rt(t),O.c(),x(O,1),O.m($.parentNode,$)):O&&(k(),v(O,1,1,(()=>{O=null})),M()),t[3].axis?P||(P=zt(),P.c(),P.m(d.parentNode,d)):P&&(P.d(1),P=null),t[2].axis?S||(S=Yt(),S.c(),S.m(u.parentNode,u)):S&&(S.d(1),S=null)},i(t){y||(x(n.$$.fragment,t),x(f),x(O),y=!0)},o(t){v(n.$$.fragment,t),v(f),v(O),y=!1},d(t){t&&p(e),w(n),t&&p(i),t&&p(s),t&&p(r),f&&f.d(t),t&&p(a),O&&O.d(t),t&&p($),P&&P.d(t),t&&p(d),S&&S.d(t),t&&p(u)}}}let Nt=0;const Xt={axis:!0,lines:1,labels:t=>t};function qt(t,e,n){let i,s,{subdivisions:r=!1}=e,{xAxis:o=Object.assign({subdivisions:r},Xt)}=e,{yAxis:a=Object.assign({subdivisions:r},Xt)}=e;const l="visual-math-grid-"+Nt++;return t.$$set=t=>{"subdivisions"in t&&n(5,r=t.subdivisions),"xAxis"in t&&n(0,o=t.xAxis),"yAxis"in t&&n(1,a=t.yAxis)},t.$$.update=()=>{33&t.$$.dirty&&n(3,i=Object.assign(Object.assign({subdivisions:r},Xt),o)),34&t.$$.dirty&&n(2,s=Object.assign(Object.assign({subdivisions:r},Xt),a))},[o,a,s,i,l,r]}class Ht extends i{constructor(t){super(),s(this,t,qt,jt,r,{subdivisions:5,xAxis:0,yAxis:1})}}function It(t){let e,n,i,s,r,a,l,$,d=[{cx:n=t[0][0]},{cy:i=t[0][1]},{rx:s=Math.abs(t[1][0])},{ry:r=Math.abs(t[1][1])},{"stroke-width":t[4]},{"stroke-dasharray":a="dashed"===t[2]?"4,3":void 0},{transform:l=`${t[9]} ${t[8]}`},t[7],{style:$=`\n    stroke: ${t[5]};\n    fill: ${t[5]};\n    fill-opacity: ${t[6]};\n    stroke-opacity: ${t[3]};\n    ${t[7].style||""}\n  `}],y={};for(let o=0;o<d.length;o+=1)y=O(y,d[o]);return{c(){e=o("ellipse"),P(e,y),S(e,"svelte-cc8k9r",!0)},m(t,n){c(t,e,n)},p(t,[o]){P(e,y=A(d,[1&o&&n!==(n=t[0][0])&&{cx:n},1&o&&i!==(i=t[0][1])&&{cy:i},2&o&&s!==(s=Math.abs(t[1][0]))&&{rx:s},2&o&&r!==(r=Math.abs(t[1][1]))&&{ry:r},16&o&&{"stroke-width":t[4]},4&o&&a!==(a="dashed"===t[2]?"4,3":void 0)&&{"stroke-dasharray":a},768&o&&l!==(l=`${t[9]} ${t[8]}`)&&{transform:l},128&o&&t[7],232&o&&$!==($=`\n    stroke: ${t[5]};\n    fill: ${t[5]};\n    fill-opacity: ${t[6]};\n    stroke-opacity: ${t[3]};\n    ${t[7].style||""}\n  `)&&{style:$}])),S(e,"svelte-cc8k9r",!0)},i:u,o:u,d(t){t&&p(e)}}}function Bt(t,e,n){let i,s,r,{center:o=E(0,0)}=e,{radius:a=E(1,1)}=e,{angle:l=0}=e,{strokeStyle:c="solid"}=e,{strokeOpacity:$=1}=e,{weight:d=2}=e,{color:p="var(--visual-math-fg)"}=e,{fillOpacity:u=.15}=e,{svgEllipseProps:y={}}=e,g=rt();return f(t,g,(t=>n(12,r=t))),t.$$set=t=>{"center"in t&&n(0,o=t.center),"radius"in t&&n(1,a=t.radius),"angle"in t&&n(11,l=t.angle),"strokeStyle"in t&&n(2,c=t.strokeStyle),"strokeOpacity"in t&&n(3,$=t.strokeOpacity),"weight"in t&&n(4,d=t.weight),"color"in t&&n(5,p=t.color),"fillOpacity"in t&&n(6,u=t.fillOpacity),"svgEllipseProps"in t&&n(7,y=t.svgEllipseProps)},t.$$.update=()=>{4096&t.$$.dirty&&n(9,i=r.cssScale),2049&t.$$.dirty&&n(8,s=`rotate(${180*l/Math.PI} ${o[0]} ${o[1]})`)},[o,a,c,$,d,p,u,y,s,i,g,l,r]}class Dt extends i{constructor(t){super(),s(this,t,Bt,It,r,{center:0,radius:1,angle:11,strokeStyle:2,strokeOpacity:3,weight:4,color:5,fillOpacity:6,svgEllipseProps:7})}}function Ut(t){let e,n;return e=new Dt({props:{center:t[0],radius:t[8],angle:t[1],strokeStyle:t[2],strokeOpacity:t[3],weight:t[4],color:t[5],fillOpacity:t[6],svgEllipseProps:t[7]}}),{c(){h(e.$$.fragment)},m(t,i){m(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.center=t[0]),256&n&&(i.radius=t[8]),2&n&&(i.angle=t[1]),4&n&&(i.strokeStyle=t[2]),8&n&&(i.strokeOpacity=t[3]),16&n&&(i.weight=t[4]),32&n&&(i.color=t[5]),64&n&&(i.fillOpacity=t[6]),128&n&&(i.svgEllipseProps=t[7]),e.$set(i)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Kt(t,e,n){let{center:i=E(0,0)}=e,{radius:s=1}=e,{angle:r=0}=e,{strokeStyle:o="solid"}=e,{strokeOpacity:a=1}=e,{weight:l=2}=e,{color:c="var(--visual-math-fg)"}=e,{fillOpacity:$=.15}=e,{svgEllipseProps:d={}}=e,p=E(s,s);return t.$$set=t=>{"center"in t&&n(0,i=t.center),"radius"in t&&n(9,s=t.radius),"angle"in t&&n(1,r=t.angle),"strokeStyle"in t&&n(2,o=t.strokeStyle),"strokeOpacity"in t&&n(3,a=t.strokeOpacity),"weight"in t&&n(4,l=t.weight),"color"in t&&n(5,c=t.color),"fillOpacity"in t&&n(6,$=t.fillOpacity),"svgEllipseProps"in t&&n(7,d=t.svgEllipseProps)},t.$$.update=()=>{768&t.$$.dirty&&n(8,p=L(p,s,s))},[i,r,o,a,l,c,$,d,p,s]}class Wt extends i{constructor(t){super(),s(this,t,Kt,Ut,r,{center:0,radius:9,angle:1,strokeStyle:2,strokeOpacity:3,weight:4,color:5,fillOpacity:6,svgEllipseProps:7})}}function Ct(t){let e,n,i,s,r,a,d;return{c(){e=o("g"),n=o("circle"),r=o("circle"),l(n,"cx",i=t[5](t[1][0])),l(n,"cy",s=t[4](t[1][1])),l(n,"r",30),l(n,"fill","transparent"),l(r,"cx",a=t[5](t[1][0])),l(r,"cy",d=t[4](t[1][1])),l(r,"r",6),l(r,"fill",t[0]),l(r,"stroke",t[0]),l(r,"stroke-opacity",.25),l(r,"tabindex",0),S(r,"draggable",t[3])},m(i,s){c(i,e,s),$(e,n),$(e,r),t[15](e)},p(t,[e]){34&e&&i!==(i=t[5](t[1][0]))&&l(n,"cx",i),18&e&&s!==(s=t[4](t[1][1]))&&l(n,"cy",s),34&e&&a!==(a=t[5](t[1][0]))&&l(r,"cx",a),18&e&&d!==(d=t[4](t[1][1]))&&l(r,"cy",d),1&e&&l(r,"fill",t[0]),1&e&&l(r,"stroke",t[0]),8&e&&S(r,"draggable",t[3])},i:u,o:u,d(n){n&&p(e),t[15](null)}}}const Ft=R();function Gt(t,e,n){let i,s,r,o,a,{point:l=R()}=e,{color:c="var(--visual-math-blue)"}=e,{transform:$=z()}=e,{constrain:d}=e,p=E(l[0],l[1]),u=t=>t;l=u(l);let y=rt();f(t,y,(t=>n(14,a=t)));let g,h=R(),m=z(),x=R(),v=!1;return Y((()=>{const t=new j(g,o);return()=>{t.destroy()}})),t.$$set=t=>{"point"in t&&n(7,l=t.point),"color"in t&&n(0,c=t.color),"transform"in t&&n(8,$=t.transform),"constrain"in t&&n(9,d=t.constrain)},t.$$.update=()=>{512&t.$$.dirty&&("horizontal"===d?n(10,u=([t,e])=>[t,p[1]]):"vertical"===d?n(10,u=([t,e])=>[p[0],e]):"function"==typeof d&&n(10,u=d)),16384&t.$$.dirty&&n(5,i=a.scaleX),16384&t.$$.dirty&&n(4,s=a.scaleY),16384&t.$$.dirty&&n(13,r=a.inversePixelMatrix),2304&t.$$.dirty&&n(11,m=N(m,$)),15744&t.$$.dirty&&(o=t=>{var e;null===(e=t.event)||void 0===e||e.stopPropagation(),n(3,v=t.down);const i=X(Ft,t.movement,r);t.first&&n(12,x=X(x,l,$)),q(l,x,i),X(l,l,m),n(7,l=u(l))}),386&t.$$.dirty&&n(1,h=X(h,l,$))},[c,h,g,v,s,i,y,l,$,d,u,m,x,r,a,function(t){H[t?"unshift":"push"]((()=>{g=t,n(2,g)}))}]}class Jt extends i{constructor(t){super(),s(this,t,Gt,Ct,r,{point:7,color:0,transform:8,constrain:9})}}function Qt(t){let e,n,i,s,r,a,$;return{c(){e=o("line"),l(e,"x1",n=t[4][0]),l(e,"y1",i=t[4][1]),l(e,"x2",s=t[5][0]),l(e,"y2",r=t[5][1]),l(e,"style",a=`stroke: ${t[0]}`),l(e,"stroke-width",t[2]),l(e,"opacity",t[3]),l(e,"stroke-dasharray",$="dashed"===t[1]?"4,3":void 0)},m(t,n){c(t,e,n)},p(t,[o]){16&o&&n!==(n=t[4][0])&&l(e,"x1",n),16&o&&i!==(i=t[4][1])&&l(e,"y1",i),32&o&&s!==(s=t[5][0])&&l(e,"x2",s),32&o&&r!==(r=t[5][1])&&l(e,"y2",r),1&o&&a!==(a=`stroke: ${t[0]}`)&&l(e,"style",a),4&o&&l(e,"stroke-width",t[2]),8&o&&l(e,"opacity",t[3]),2&o&&$!==($="dashed"===t[1]?"4,3":void 0)&&l(e,"stroke-dasharray",$)},i:u,o:u,d(t){t&&p(e)}}}const Tt=R();function Vt(t,e,n){let i,s,{point1:r=R()}=e,{point2:o=R()}=e,{color:a="var(--visual-math-fg)"}=e,{style:l="solid"}=e,{weight:c=2}=e,{opacity:$=1}=e;const d=rt();f(t,d,(t=>n(11,s=t)));let p=R(),u=R(),y=R();return t.$$set=t=>{"point1"in t&&n(7,r=t.point1),"point2"in t&&n(8,o=t.point2),"color"in t&&n(0,a=t.color),"style"in t&&n(1,l=t.style),"weight"in t&&n(2,c=t.weight),"opacity"in t&&n(3,$=t.opacity)},t.$$.update=()=>{2048&t.$$.dirty&&n(10,i=s.pixelMatrix),896&t.$$.dirty&&n(9,p=I(p,B(p,D(Tt,o,r)),1e5)),1680&t.$$.dirty&&n(4,u=X(u,D(Tt,r,p),i)),1824&t.$$.dirty&&n(5,y=X(y,q(Tt,o,p),i))},[a,l,c,$,u,y,d,r,o,p,i,s]}class Zt extends i{constructor(t){super(),s(this,t,Vt,Qt,r,{point1:7,point2:8,color:0,style:1,weight:2,opacity:3})}}function _t(t){let e,n;return e=new Zt({props:{point1:t[0],point2:t[5],color:t[1],opacity:t[4],style:t[2],weight:t[3]}}),{c(){h(e.$$.fragment)},m(t,i){m(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.point1=t[0]),32&n&&(i.point2=t[5]),2&n&&(i.color=t[1]),16&n&&(i.opacity=t[4]),4&n&&(i.style=t[2]),8&n&&(i.weight=t[3]),e.$set(i)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}const te=R(),ee=R(),ne=E(1,0);function ie(t,e,n){let{point:i=R()}=e,{angle:s=0}=e,{color:r="var(--visual-math-fg)"}=e,{style:o="solid"}=e,{weight:a=2}=e,{opacity:l=1}=e,c=R();return t.$$set=t=>{"point"in t&&n(0,i=t.point),"angle"in t&&n(6,s=t.angle),"color"in t&&n(1,r=t.color),"style"in t&&n(2,o=t.style),"weight"in t&&n(3,a=t.weight),"opacity"in t&&n(4,l=t.opacity)},t.$$.update=()=>{97&t.$$.dirty&&n(5,c=q(c,i,U(te,ne,ee,s)))},[i,r,o,a,l,c,s]}class se extends i{constructor(t){super(),s(this,t,ie,_t,r,{point:0,angle:6,color:1,style:2,weight:3,opacity:4})}}function re(t){let e,n;return e=new se({props:{point:t[0],angle:t[5],color:t[1],opacity:t[4],style:t[2],weight:t[3]}}),{c(){h(e.$$.fragment)},m(t,i){m(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.point=t[0]),32&n&&(i.angle=t[5]),2&n&&(i.color=t[1]),16&n&&(i.opacity=t[4]),4&n&&(i.style=t[2]),8&n&&(i.weight=t[3]),e.$set(i)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function oe(t,e,n){let{point:i=R()}=e,{slope:s=0}=e,{color:r="var(--visual-math-fg)"}=e,{style:o="solid"}=e,{weight:a=2}=e,{opacity:l=1}=e,c=Math.atan(s);return t.$$set=t=>{"point"in t&&n(0,i=t.point),"slope"in t&&n(6,s=t.slope),"color"in t&&n(1,r=t.color),"style"in t&&n(2,o=t.style),"weight"in t&&n(3,a=t.weight),"opacity"in t&&n(4,l=t.opacity)},t.$$.update=()=>{64&t.$$.dirty&&n(5,c=Math.atan(s))},[i,r,o,a,l,c,s]}class ae extends i{constructor(t){super(),s(this,t,oe,re,r,{point:0,slope:6,color:1,style:2,weight:3,opacity:4})}}function le(t){let e,n,i,s,r,a,d;const u=t[38].default,y=K(u,t,t[37],null);return{c(){e=W("div"),n=o("svg"),y&&y.c(),l(n,"width",t[2]),l(n,"height",t[3]),l(n,"viewBox",i=`${-t[5](0)} ${-t[4](0)} ${t[2]} ${t[3]}`),l(n,"preserveAspectRatio","xMidYMin"),l(n,"style",s=`width: ${t[0]}; touch-action: ${t[1]?"none":"auto"};`),l(e,"class","visual-math"),l(e,"style",r=`width: ${t[8]}; height: ${t[7]}`),C((()=>t[40].call(e)))},m(i,s){c(i,e,s),$(e,n),y&&y.m(n,null),t[39](e),a=F(e,t[40].bind(e)),d=!0},p(t,o){y&&y.p&&(!d||64&o[1])&&G(y,u,t,t[37],d?Q(u,t[37],o,null):J(t[37]),null),(!d||4&o[0])&&l(n,"width",t[2]),(!d||8&o[0])&&l(n,"height",t[3]),(!d||60&o[0]&&i!==(i=`${-t[5](0)} ${-t[4](0)} ${t[2]} ${t[3]}`))&&l(n,"viewBox",i),(!d||3&o[0]&&s!==(s=`width: ${t[0]}; touch-action: ${t[1]?"none":"auto"};`))&&l(n,"style",s),(!d||384&o[0]&&r!==(r=`width: ${t[8]}; height: ${t[7]}`))&&l(e,"style",r)},i(t){d||(x(y,t),d=!0)},o(t){v(y,t),d=!1},d(n){n&&p(e),y&&y.d(n),t[39](null),a()}}}const ce=R();function $e(e,i,s){let r,o,a,l,c,$,d,p,u,y,f,g,h,m,x,v,w,b,k,{$$slots:M={},$$scope:O}=i,{width:P=500}=i,{height:S=500}=i,{pan:A=!0}=i,{zoom:N=!0}=i,{xAxisExtent:X=E(-5.5,5.5)}=i,{yAxisExtent:I=E(-5.5,5.5)}=i,B="number"==typeof P?P:500,U="number"==typeof S?S:500,K=Math.min(X[1]-X[0],I[1]-I[0]),W=E(0,0),C=E(X[0],I[0]),F=E(X[1],I[1]),G=R(),J=z(),Q=z(),_=[],tt=[],et=R(),nt=R(),it=V({xPanes:_,yPanes:tt,xPaneRange:et,yPaneRange:nt});t(lt,it);let rt=V({min:C,max:F,width:B,height:U});!function(e){t(ot,e)}(rt);let ct=V({zoomAmount:K,scaleX:c,scaleY:$,span:G,pixelMatrix:J,inversePixelMatrix:Q,cssScale:u});!function(e){t(st,e)}(ct);let $t,dt=V({mapX:a,mapY:l});return function(e){t(at,e)}(dt),Y((()=>{const t=new j($t,b),e=new Z($t,k);return()=>{t.destroy(),e.destroy()}})),e.$$set=t=>{"width"in t&&s(0,P=t.width),"height"in t&&s(11,S=t.height),"pan"in t&&s(1,A=t.pan),"zoom"in t&&s(12,N=t.zoom),"xAxisExtent"in t&&s(9,X=t.xAxisExtent),"yAxisExtent"in t&&s(10,I=t.yAxisExtent),"$$scope"in t&&s(37,O=t.$$scope)},e.$$.update=()=>{if(1&e.$$.dirty[0]&&s(8,r="auto"===P?"100%":`${P}px`),2048&e.$$.dirty[0]&&s(7,o="auto"===S?"100%":`${S}px`),13824&e.$$.dirty[0]&&(k=t=>{if(!N||t.last)return;const e=function(t){if("number"==typeof t.detail&&0!==t.detail){if(t.detail>0)return-1;if(t.detail<0)return 1}else if("number"==typeof t.wheelDelta){if(t.wheelDelta<0)return-1;if(t.wheelDelta>0)return 1}}(t.event);e&&(K>3||e<0)&&(s(9,X=L(X,X[0]+e,X[1]-e)),s(10,I=L(I,I[0]+e,I[1]-e)),s(13,K=Math.min(X[1]-X[0],I[1]-I[0])))}),8204&e.$$.dirty[0]){const t=.5*K,e=.5*(K*(B/U));s(9,X[0]=-e,X),s(9,X[1]=e,X),s(10,I[0]=-t,I),s(10,I[1]=t,I)}1550&e.$$.dirty[0]&&(b=t=>{A&&(s(14,W[0]=-t.offset[0]/B*(X[1]-X[0]),W),s(14,W[1]=-t.offset[1]/U*(I[1]-I[0]),W))}),50688&e.$$.dirty[0]&&s(15,C=q(C,W,L(ce,X[0],I[0]))),83456&e.$$.dirty[0]&&s(16,F=q(F,W,L(ce,X[1],I[1]))),98308&e.$$.dirty[0]&&s(5,a=t=>(t-C[0])/(F[0]-C[0])*B),98312&e.$$.dirty[0]&&s(4,l=t=>(t-C[1])/(F[1]-C[1])*U),229376&e.$$.dirty[0]&&s(17,G=D(G,F,C)),131076&e.$$.dirty[0]&&s(26,c=t=>t/G[0]*B),131080&e.$$.dirty[0]&&s(25,$=t=>-t/G[1]*U),98304&e.$$.dirty[0]&&s(34,y=F[0]-C[0]),4&e.$$.dirty[0]|8&e.$$.dirty[1]&&s(36,d=t=>t/B*y),98304&e.$$.dirty[0]&&s(30,m=F[1]-C[1]),1073741832&e.$$.dirty[0]&&s(35,p=t=>-t/U*m),100925440&e.$$.dirty[0]&&s(18,J=T(J,L(ce,c(1),$(1)))),524288&e.$$.dirty[0]|48&e.$$.dirty[1]&&s(19,Q=T(Q,L(ce,d(1),p(1)))),100663296&e.$$.dirty[0]&&s(24,u=`scale(${c(1)} ${$(1)})`),8&e.$$.dirty[1]&&s(33,f=Math.pow(2,Math.round(Math.log10(y)/Math.log10(2)))),32768&e.$$.dirty[0]|4&e.$$.dirty[1]&&s(32,g=Math.floor(C[0]/f)*f),65536&e.$$.dirty[0]|4&e.$$.dirty[1]&&s(31,h=Math.ceil(F[0]/f)*f),7&e.$$.dirty[1]&&s(20,_=n.range(g,h,f).iter().map((t=>E(t,t+f))).toArray()),4194304&e.$$.dirty[0]|3&e.$$.dirty[1]&&s(22,et=L(et,g,h)),1073741824&e.$$.dirty[0]&&s(29,x=Math.pow(2,Math.round(Math.log10(m)/Math.log10(2)))),536903680&e.$$.dirty[0]&&s(28,v=Math.floor(C[0]/x)*x),536936448&e.$$.dirty[0]&&s(27,w=Math.ceil(F[0]/x)*x),939524096&e.$$.dirty[0]&&s(21,tt=n.range(v,w,x).iter().map((t=>E(t,t+x))).toArray()),411041792&e.$$.dirty[0]&&s(23,nt=L(nt,v,w)),15728640&e.$$.dirty[0]&&it.set({xPanes:_,yPanes:tt,xPaneRange:et,yPaneRange:nt}),98316&e.$$.dirty[0]&&rt.set({min:C,max:F,width:B,height:U}),118366208&e.$$.dirty[0]&&ct.set({zoomAmount:K,scaleX:c,scaleY:$,span:G,pixelMatrix:J,inversePixelMatrix:Q,cssScale:u}),48&e.$$.dirty[0]&&dt.set({mapX:a,mapY:l})},[P,A,B,U,l,a,$t,o,r,X,I,S,N,K,W,C,F,G,J,Q,_,tt,et,nt,u,$,c,w,v,x,m,h,g,f,y,p,d,O,M,function(t){H[t?"unshift":"push"]((()=>{$t=t,s(6,$t)}))},function(){B=this.offsetWidth,U=this.offsetHeight,s(2,B),s(3,U)}]}class de extends i{constructor(t){super(),s(this,t,$e,le,r,{width:0,height:11,pan:1,zoom:12,xAxisExtent:9,yAxisExtent:10},null,[-1,-1])}}function pe(t){let e,n,i,s,r,o,a,l,$,d,u,y,f,g,k,M,O,P,S,A,E,L,R,z;function Y(e){t[12](e)}e=new Ht({}),i=new Wt({props:{center:t[1],radius:t[0],strokeStyle:"dashed",strokeOpacity:.3,fillOpacity:0}}),r=new Dt({props:{center:t[1],radius:t[6],angle:t[9]}}),a=new Zt({props:{point1:t[1],point2:t[8]}}),$=new se({props:{point:t[1],angle:t[9]}}),u=new ae({props:{point:t[1],slope:Math.PI/4}});let j={};function N(e){t[13](e)}void 0!==t[1]&&(j.point=t[1]),f=new Jt({props:j}),H.push((()=>nt(f,"point",Y)));let X={transform:t[7],constrain:"horizontal"};function q(e){t[14](e)}void 0!==t[4]&&(X.point=t[4]),M=new Jt({props:X}),H.push((()=>nt(M,"point",N)));let I={transform:t[7],constrain:"vertical"};function B(e){t[15](e)}void 0!==t[5]&&(I.point=t[5]),S=new Jt({props:I}),H.push((()=>nt(S,"point",q)));let D={transform:t[2],constrain:t[10]};return void 0!==t[3]&&(D.point=t[3]),L=new Jt({props:D}),H.push((()=>nt(L,"point",B))),{c(){h(e.$$.fragment),n=b(),h(i.$$.fragment),s=b(),h(r.$$.fragment),o=b(),h(a.$$.fragment),l=b(),h($.$$.fragment),d=b(),h(u.$$.fragment),y=b(),h(f.$$.fragment),k=b(),h(M.$$.fragment),P=b(),h(S.$$.fragment),E=b(),h(L.$$.fragment)},m(t,p){m(e,t,p),c(t,n,p),m(i,t,p),c(t,s,p),m(r,t,p),c(t,o,p),m(a,t,p),c(t,l,p),m($,t,p),c(t,d,p),m(u,t,p),c(t,y,p),m(f,t,p),c(t,k,p),m(M,t,p),c(t,P,p),m(S,t,p),c(t,E,p),m(L,t,p),z=!0},p(t,e){const n={};2&e&&(n.center=t[1]),1&e&&(n.radius=t[0]),i.$set(n);const s={};2&e&&(s.center=t[1]),64&e&&(s.radius=t[6]),512&e&&(s.angle=t[9]),r.$set(s);const o={};2&e&&(o.point1=t[1]),256&e&&(o.point2=t[8]),a.$set(o);const l={};2&e&&(l.point=t[1]),512&e&&(l.angle=t[9]),$.$set(l);const c={};2&e&&(c.point=t[1]),u.$set(c);const d={};!g&&2&e&&(g=!0,d.point=t[1],it((()=>g=!1))),f.$set(d);const p={};128&e&&(p.transform=t[7]),!O&&16&e&&(O=!0,p.point=t[4],it((()=>O=!1))),M.$set(p);const y={};128&e&&(y.transform=t[7]),!A&&32&e&&(A=!0,y.point=t[5],it((()=>A=!1))),S.$set(y);const h={};4&e&&(h.transform=t[2]),1024&e&&(h.constrain=t[10]),!R&&8&e&&(R=!0,h.point=t[3],it((()=>R=!1))),L.$set(h)},i(t){z||(x(e.$$.fragment,t),x(i.$$.fragment,t),x(r.$$.fragment,t),x(a.$$.fragment,t),x($.$$.fragment,t),x(u.$$.fragment,t),x(f.$$.fragment,t),x(M.$$.fragment,t),x(S.$$.fragment,t),x(L.$$.fragment,t),z=!0)},o(t){v(e.$$.fragment,t),v(i.$$.fragment,t),v(r.$$.fragment,t),v(a.$$.fragment,t),v($.$$.fragment,t),v(u.$$.fragment,t),v(f.$$.fragment,t),v(M.$$.fragment,t),v(S.$$.fragment,t),v(L.$$.fragment,t),z=!1},d(t){w(e,t),t&&p(n),w(i,t),t&&p(s),w(r,t),t&&p(o),w(a,t),t&&p(l),w($,t),t&&p(d),w(u,t),t&&p(y),w(f,t),t&&p(k),w(M,t),t&&p(P),w(S,t),t&&p(E),w(L,t)}}}function ue(t){let e,n;return e=new de({props:{width:"auto",height:"auto",$$slots:{default:[pe]},$$scope:{ctx:t}}}),{c(){h(e.$$.fragment)},m(t,i){m(e,t,i),n=!0},p(t,[n]){const i={};67583&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function ye(t,e,n){let i,s,{rotationHintRadius:r=4}=e,o=E(0,0),a=z(),l=E(r,0),c=z(),$=E(r-1,0),d=E(0,r-2),p=R(),u=z(),y=R();return t.$$set=t=>{"rotationHintRadius"in t&&n(0,r=t.rotationHintRadius)},t.$$.update=()=>{6&t.$$.dirty&&n(2,a=_(a,o)),8&t.$$.dirty&&n(9,i=Math.PI/2-Math.atan2(l[0],l[1])),2560&t.$$.dirty&&n(11,c=tt(c,i)),112&t.$$.dirty&&n(6,p=L(p,$[0],d[1])),2180&t.$$.dirty&&n(7,u=et(u,a,c)),268&t.$$.dirty&&n(8,y=X(y,l,a)),1&t.$$.dirty&&n(10,s=t=>I(t,B(t,t),r))},[r,o,a,l,$,d,p,u,y,i,s,c,function(t){o=t,n(1,o)},function(t){$=t,n(4,$)},function(t){d=t,n(5,d)},function(t){l=t,n(3,l)}]}class fe extends i{constructor(t){super(),s(this,t,ye,ue,r,{rotationHintRadius:0})}}window.addEventListener("load",(function(){new fe({target:document.getElementById("app")})}));
