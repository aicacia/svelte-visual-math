{"version":3,"file":"GridPattern.svelte.js","sources":["../src/GridPattern.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { range } from \"@aicacia/core\";\n  import { getScaleContext } from \"./math\";\n\n  export let id: string;\n  export let xLines: number | false = 1;\n  export let yLines: number | false = 1;\n  export let xSubdivisions: number | false = 1;\n  export let ySubdivisions: number | false = 1;\n\n  let context = getScaleContext();\n  $: scaleX = $context.scaleX;\n  $: scaleY = $context.scaleY;\n\n  $: width = scaleX(xLines || 1);\n  $: height = -scaleY(yLines || 1);\n\n  let xs: number[] = [];\n  $: if (xSubdivisions && xSubdivisions > 1) {\n    const pixelXDistance = width / xSubdivisions;\n    xs = range(0, width + pixelXDistance * 1.1, pixelXDistance)\n      .iter()\n      .toArray();\n  }\n\n  let ys: number[] = [];\n  $: if (ySubdivisions && ySubdivisions > 1) {\n    const pixelYDistance = height / ySubdivisions;\n    ys = range(0, height + pixelYDistance * 1.1, pixelYDistance)\n      .iter()\n      .toArray();\n  }\n</script>\n\n<pattern {id} x=\"0\" y=\"0\" {width} {height} patternUnits=\"userSpaceOnUse\">\n  {#each xs as x}\n    <line\n      x1={x}\n      y1={0}\n      x2={x}\n      y2={height}\n      style={`stroke: var(--grid-line-subdivision-color)`}\n    />\n  {/each}\n  {#each ys as y}\n    <line\n      y1={y}\n      x1={0}\n      y2={y}\n      x2={width}\n      style={`stroke: var(--grid-line-subdivision-color)`}\n    />\n  {/each}\n\n  {#if xLines}\n    <line\n      x1={0}\n      y1={0}\n      x2={0}\n      y2={height}\n      style={`stroke: var(--visual-math-line-color)`}\n    />\n    <line\n      x1={width}\n      y1={0}\n      x2={width}\n      y2={height}\n      style={`stroke: var(--visual-math-line-color)`}\n    />\n  {/if}\n  {#if yLines}\n    <line\n      x1={0}\n      y1={0}\n      x2={width}\n      y2={0}\n      style={`stroke: var(--visual-math-line-color)`}\n    />\n    <line\n      x1={0}\n      y1={height}\n      x2={width}\n      y2={height}\n      style={`stroke: var(--visual-math-line-color)`}\n    />\n  {/if}\n</pattern>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAqCU,GAAC;oCACD,CAAC;4CACD,GAAC;+BACD,GAAM;;;;GAJZ,MAMC;;;qEALK,GAAC;;;;yEAED,GAAC;;;;;gCACD,GAAM;;;;;;;;;;;;;;;;;;;;0CAMN,GAAC;oCACD,CAAC;4CACD,GAAC;8BACD,GAAK;;;;GAJX,MAMC;;;qEALK,GAAC;;;;yEAED,GAAC;;;;;+BACD,GAAK;;;;;;;;;;;;;;;;;;;;;;;;sCAOL,CAAC;sCACD,CAAC;wCACD,CAAC;gCACD,GAAM;;+BAIN,GAAK;sCACL,CAAC;+BACD,GAAK;gCACL,GAAM;;;;GAXZ,MAMC;GACD,MAMC;;;;iCATK,GAAM;;;;gCAIN,GAAK;;;;gCAEL,GAAK;;;;iCACL,GAAM;;;;;;;;;;;;;;;;;;;;;;;;;sCAMN,CAAC;sCACD,CAAC;+BACD,GAAK;wCACL,CAAC;;sCAID,CAAC;gCACD,GAAM;+BACN,GAAK;gCACL,GAAM;;;;GAXZ,MAMC;GACD,MAMC;;;;gCAVK,GAAK;;;;iCAML,GAAM;;;;gCACN,GAAK;;;;iCACL,GAAM;;;;;;;;;;;;;;;2BA/CP,GAAE;;;kCAAP,MAAI;;;;yBASC,GAAE;;;gCAAP,MAAI;;;;4BAUD,GAAM;4BAgBN,GAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;GApCb,MAoDS;;;;;;;;;;;;;;;;;;;0BAnDA,GAAE;;;iCAAP,MAAI;;;;;;;;;;;;;;;;wCAAJ,MAAI;;;;wBASC,GAAE;;;+BAAP,MAAI;;;;;;;;;;;;;;;;oCAAJ,MAAI;;;kBAUD,GAAM;;;;;;;;;;;;;kBAgBN,GAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OAlEb,EAAA;OACA,MAAA,GAAA,CAAA;OACA,MAAA,GAAA,CAAA;OACA,aAAA,GAAA,CAAA;OACA,aAAA,GAAA,CAAA;KAEA,OAAA,GAAA,eAAA;;KAOA,EAAA;KAQA,EAAA;;;;;;;;;;;;oBAdA,MAAA,GAAA,QAAA,CAAA,MAAA;;;;oBACA,MAAA,GAAA,QAAA,CAAA,MAAA;;;;mBAEA,KAAA,GAAA,MAAA,CAAA,MAAA,IAAA,CAAA;;;;mBACA,MAAA,IAAA,MAAA,CAAA,MAAA,IAAA,CAAA;;;;OAGA,aAAA,IAAA,aAAA,GAAA,CAAA;UACA,cAAA,GAAA,KAAA,GAAA,aAAA;oBACA,EAAA,GAAA,KAAA,CAAA,CAAA,EAAA,KAAA,GAAA,cAAA,GAAA,GAAA,EAAA,cAAA,EACA,IAAA,GACA,OAAA;;;;;OAIA,aAAA,IAAA,aAAA,GAAA,CAAA;UACA,cAAA,GAAA,MAAA,GAAA,aAAA;oBACA,EAAA,GAAA,KAAA,CAAA,CAAA,EAAA,MAAA,GAAA,cAAA,GAAA,GAAA,EAAA,cAAA,EACA,IAAA,GACA,OAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}