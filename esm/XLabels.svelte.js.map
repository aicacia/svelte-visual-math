{"version":3,"file":"XLabels.svelte.js","sources":["../src/XLabels.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import type { ILabelMaker } from \"./math\";\n  import { snappedRange, getPanesContext, getScaleContext } from \"./math\";\n\n  export let separation: number;\n  export let labelMaker: ILabelMaker | false;\n\n  let scaleContext = getScaleContext();\n  let panesContext = getPanesContext();\n\n  $: scaleX = $scaleContext.scaleX;\n  $: xPanes = $panesContext.xPanes;\n\n  $: xs = snappedRange(\n    xPanes[0][0] - separation,\n    xPanes[xPanes.length - 1][1] + separation,\n    separation\n  ).filter((x) => Math.abs(scaleX(x) - scaleX(0)) > 1);\n</script>\n\n<g>\n  {#each xs as x}\n    <text x={scaleX(x)} y={5} alignment-baseline=\"hanging\" text-anchor=\"middle\">\n      {labelMaker ? labelMaker(x) : x}\n    </text>\n  {/each}\n</g>\n\n<style>\n  g {\n    paint-order: stroke;\n    stroke-width: 3px;\n    stroke: var(--visual-math-line-color);\n    stroke-opacity: 0.75;\n  }\n</style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;+BAuBO,GAAU;kBAAG,GAAU,UAAC,GAAC;SAAI,GAAC;;;;;;;;;;iDADxB,GAAM,UAAC,GAAC;sCAAM,CAAC;;;;;GAAxB,MAEM;;;;8EADH,GAAU;oBAAG,GAAU,UAAC,GAAC;WAAI,GAAC;;mFADxB,GAAM,UAAC,GAAC;;;;;;;;;;;;yBADZ,GAAE;;;gCAAP,MAAI;;;;;;;;;;;;;;;GADR,MAMG;;;;;;;;wBALM,GAAE;;;+BAAP,MAAI;;;;;;;;;;;;;;;;oCAAJ,MAAI;;;;;;;;;;;;;;;;;;OAjBR,UAAA;OACA,UAAA;KAEA,YAAA,GAAA,eAAA;;KACA,YAAA,GAAA,eAAA;;;;;;;;;;mBAEA,MAAA,GAAA,aAAA,CAAA,MAAA;;;;mBACA,MAAA,GAAA,aAAA,CAAA,MAAA;;;;mBAEA,EAAA,GAAA,YAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA,IAAA,UAAA,EAAA,MAAA,CAAA,MAAA,CAAA,MAAA,GAAA,CAAA,EAAA,CAAA,IAAA,UAAA,EAAA,UAAA,EAAA,MAAA,CAAA,CAAA,IAAA,IAAA,CAAA,GAAA,CAAA,MAAA,CAAA,CAAA,IAAA,MAAA,CAAA,CAAA,KAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}