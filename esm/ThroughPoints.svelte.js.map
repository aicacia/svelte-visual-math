{"version":3,"file":"ThroughPoints.svelte.js","sources":["../src/ThroughPoints.svelte"],"sourcesContent":["<script lang=\"ts\" context=\"module\">\n  const VEC2_0 = vec2.create();\n</script>\n\n<script lang=\"ts\">\n  import { vec2 } from \"gl-matrix\";\n  import { getScaleContext } from \"./math\";\n\n  export let point1: vec2 = vec2.create();\n  export let point2: vec2 = vec2.create();\n  export let color = \"var(--visual-math-fg)\";\n  export let style = \"solid\";\n  export let weight = 2;\n  export let opacity = 1;\n\n  const scaleContext = getScaleContext();\n  $: pixelMatrix = $scaleContext.pixelMatrix;\n  let segment = vec2.create();\n  $: segment = vec2.scale(\n    segment,\n    vec2.normalize(segment, vec2.sub(VEC2_0, point2, point1)),\n    100000\n  );\n\n  let scaledPoint1 = vec2.create();\n  let scaledPoint2 = vec2.create();\n  $: scaledPoint1 = vec2.transformMat2d(\n    scaledPoint1,\n    vec2.sub(VEC2_0, point1, segment),\n    pixelMatrix\n  );\n  $: scaledPoint2 = vec2.transformMat2d(\n    scaledPoint2,\n    vec2.add(VEC2_0, point2, segment),\n    pixelMatrix\n  );\n</script>\n\n<line\n  x1={scaledPoint1[0]}\n  y1={scaledPoint1[1]}\n  x2={scaledPoint2[0]}\n  y2={scaledPoint2[1]}\n  style={`stroke: ${color}`}\n  stroke-width={weight}\n  {opacity}\n  stroke-dasharray={style === \"dashed\" ? \"4,3\" : undefined}\n/>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;qDAuCM,GAAY,IAAC,CAAC;qDACd,GAAY,IAAC,CAAC;uDACd,GAAY,IAAC,CAAC;uDACd,GAAY,IAAC,CAAC;+DACA,GAAK;yCACT,GAAM;;0EAEF,GAAK,QAAK,QAAQ,GAAG,KAAK,GAAG,SAAS;;;GAR1D,MASC;;;0FARK,GAAY,IAAC,CAAC;;;;0FACd,GAAY,IAAC,CAAC;;;;8FACd,GAAY,IAAC,CAAC;;;;8FACd,GAAY,IAAC,CAAC;;;;4FACA,GAAK;;;;;0CACT,GAAM;;;;;;;uGAEF,GAAK,QAAK,QAAQ,GAAG,KAAK,GAAG,SAAS;;;;;;;;;;;;MA7C1D,MAAA,GAAA,IAAA,CAAA,MAAA;;;;;OAOA,MAAA,GAAA,IAAA,CAAA,MAAA;OACA,MAAA,GAAA,IAAA,CAAA,MAAA;OACA,KAAA,GAAA,uBAAA;OACA,KAAA,GAAA,OAAA;OACA,MAAA,GAAA,CAAA;OACA,OAAA,GAAA,CAAA;OAEA,YAAA,GAAA,eAAA;;KAEA,OAAA,GAAA,IAAA,CAAA,MAAA;KAOA,YAAA,GAAA,IAAA,CAAA,MAAA;KACA,YAAA,GAAA,IAAA,CAAA,MAAA;;;;;;;;;;;;;oBATA,WAAA,GAAA,aAAA,CAAA,WAAA;;;;mBAEA,OAAA,GAAA,IAAA,CAAA,KAAA,CAAA,OAAA,EAAA,IAAA,CAAA,SAAA,CAAA,OAAA,EAAA,IAAA,CAAA,GAAA,CAAA,MAAA,EAAA,MAAA,EAAA,MAAA,IAAA,MAAA;;;;mBAQA,YAAA,GAAA,IAAA,CAAA,cAAA,CAAA,YAAA,EAAA,IAAA,CAAA,GAAA,CAAA,MAAA,EAAA,MAAA,EAAA,OAAA,GAAA,WAAA;;;;mBAKA,YAAA,GAAA,IAAA,CAAA,cAAA,CAAA,YAAA,EAAA,IAAA,CAAA,GAAA,CAAA,MAAA,EAAA,MAAA,EAAA,OAAA,GAAA,WAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}